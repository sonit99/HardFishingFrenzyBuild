window.__require=function t(e,o,n){function i(a,s){if(!o[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var h=o[a]={exports:{}};e[a][0].call(h.exports,function(t){return i(e[a][1][t]||t)},h,h.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({BoatFloat:[function(t,e,o){"use strict";cc._RF.push(e,"3869dasQeNK/ZvFrZ6XQhJL","BoatFloat");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.floatAmplitude=10,e.floatSpeed=1,e.swayAmplitude=3,e.swaySpeed=.8,e.baseY=0,e.time=0,e}return i(e,t),e.prototype.onLoad=function(){this.baseY=this.node.y},e.prototype.update=function(t){this.time+=t;var e=Math.sin(this.time*this.floatSpeed*2*Math.PI)*this.floatAmplitude;this.node.y=this.baseY+e;var o=Math.sin(this.time*this.swaySpeed*2*Math.PI)*this.swayAmplitude;this.node.angle=o,this.node.x+=.1*Math.sin(.2*this.time)},r([c],e.prototype,"floatAmplitude",void 0),r([c],e.prototype,"floatSpeed",void 0),r([c],e.prototype,"swayAmplitude",void 0),r([c],e.prototype,"swaySpeed",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Cell:[function(t,e,o){"use strict";cc._RF.push(e,"45ba2p3EPlAa4asYe9/3ZL/","Cell");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.TableViewCell=void 0;var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tableView=null,e.cellData=null,e.cellIndex=-1,e.groupIndex=[0,0],e.isDragging=!1,e.longClickScheduled=!1,e.originalParent=null,e.originalPos=new cc.Vec3,e.dragClone=null,e.isLongClicked=!1,e}return i(e,t),e.prototype.onLoad=function(){this.setupTouchEvents()},e.prototype.setupTouchEvents=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.prototype._cellInit_=function(t){this.tableView=t},e.prototype.updateCell=function(t,e,o,n){void 0===o&&(o=!1),void 0===n&&(n=[0,0]),this.cellIndex=t,this.cellData=e,this.groupIndex=n,this.onUpdateCell(t,e,o)},e.prototype.onUpdateCell=function(){},e.prototype.onTouchStart=function(){var t=this;cc.error("onTouchStart called"),this.node.active&&0!==this.node.opacity&&this.canDrag()&&(this.longClickScheduled=!0,cc.tween(this.node).to(.5,{scale:.95}).call(function(){t.isLongClicked=!0}).start(),this.scheduleOnce(this.onLongPressForDrag,.5))},e.prototype.onTouchMove=function(t){var e=t.getLocation().subtract(t.getStartLocation()).len();this.longClickScheduled&&this.isLongClicked&&e>10&&(cc.error("onTouchMove long click",t.getCurrentTarget()),this.longClickScheduled=!1,this.unschedule(this.onLongPressForDrag),cc.Tween.stopAllByTarget(this.node),this.node.scale=1),this.isDragging&&this.isLongClicked&&(this.onDragging(t),t.stopPropagation())},e.prototype.onTouchEnd=function(t){cc.error("onTouchEnd called"),cc.Tween.stopAllByTarget(this.node),this.node.scale=1;var e=t.getLocation().subtract(t.getStartLocation()).len();this.longClickScheduled&&(this.longClickScheduled=!1,this.longClickScheduled=!1,this.unschedule(this.onLongPressForDrag),e<10&&(this.onClick(),t.stopPropagation())),this.isDragging&&this.isLongClicked&&t&&(this.isDragging=!1,this.isLongClicked=!1,this.endDrag(t))},e.prototype.onTouchCancel=function(t){cc.error("onTouchCancel called"),cc.Tween.stopAllByTarget(this.node),this.node.scale=1,this.longClickScheduled&&(this.longClickScheduled=!1,this.unschedule(this.onLongPressForDrag)),this.isDragging&&(this.isDragging=!1,this.isLongClicked=!1,this.tableView&&(this.tableView.enabled=!0),this.endDrag(t))},e.prototype.canDrag=function(){return this.tableView&&this.tableView.enableCellDrag},e.prototype.onLongPressForDrag=function(){if(this.longClickScheduled=!1,this.canDrag()){if(this.isDragging=!0,this.originalParent=this.node.parent,this.originalPos=this.node.position.clone(),this.dragClone=cc.instantiate(this.node),this.dragClone.opacity=200,this.dragClone.scale=1.1,this.tableView){var t=this.originalParent.convertToWorldSpaceAR(this.node.position);this.tableView.node.addChild(this.dragClone);var e=this.tableView.node.convertToNodeSpaceAR(t);this.dragClone.setPosition(e),this.node.opacity=100,this.onDragStart()}this.tableView&&(this.tableView.enabled=!1)}},e.prototype.onDragging=function(t){if(this.dragClone){var e=t.getDelta();this.dragClone.setPosition(this.dragClone.position.x+e.x,this.dragClone.position.y+e.y,this.dragClone.position.z),this.tableView&&"function"==typeof this.tableView.onCellDragging&&this.tableView.onCellDragging(this,t.getLocation())}},e.prototype.endDrag=function(t){var e=this,o=!1;if(this.node.opacity=255,this.tableView&&(this.tableView.enabled=!0),this.tableView&&"function"==typeof this.tableView.onCellDragEnd&&(o=this.tableView.onCellDragEnd(this,t.getLocation())),!o&&this.dragClone){var n=this.originalParent.convertToWorldSpaceAR(this.originalPos),i=this.tableView.node.convertToNodeSpaceAR(n);cc.tween(this.dragClone).to(.2,{position:i},{easing:"backOut"}).call(function(){e.dragClone&&(e.dragClone.destroy(),e.dragClone=null)}).start()}else this.dragClone&&(this.dragClone.destroy(),this.dragClone=null);this.onDragEnd()},e.prototype.onClick=function(){this.tableView&&this.tableView.onCellClicked&&this.tableView.onCellClicked(this.cellIndex,this.cellData,this)},e.prototype.onLongClick=function(){this.longClickScheduled=!1,this.node.emit(cc.Node.EventType.TOUCH_CANCEL),this.tableView&&this.tableView.onCellLongClicked&&this.tableView.onCellLongClicked(this.cellIndex,this.cellData,this)},e.prototype.onDragStart=function(){},e.prototype.onDragEnd=function(){},e.prototype.getCellIndex=function(){return this.cellIndex},e.prototype.getCellData=function(){return this.cellData},e.prototype.onDestroy=function(){this.dragClone&&(this.dragClone.destroy(),this.dragClone=null),this.unschedule(this.onLongPressForDrag),this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},r([s()],e)}(cc.Component));o.TableViewCell=c,cc._RF.pop()},{}],Cmd:[function(t,e,o){"use strict";cc._RF.push(e,"714dd2TFY5PvaETvQ3A+OXN","Cmd"),Object.defineProperty(o,"__esModule",{value:!0}),o.DEFINE_CHARACTER=o.Cmd=void 0;var n=function(){function t(){}return t.SENDLOGIN=51,t.LOGIN=51,t.LOGOUT=2,t.DISCONNECTED=37,t.SENDGETANNOUNCE=59,t.GETANNOUNCE=60,t}();o.Cmd=n;var i=function(){function t(){}return t.CLUBS_TWO=0,t.CLUBS_THREE=1,t.CLUBS_FOUR=2,t.CLUBS_FIVE=3,t.CLUBS_SIX=4,t.CLUBS_SEVEN=5,t.CLUBS_EIGHT=6,t.CLUBS_NINE=7,t.CLUBS_TEN=8,t.CLUBS_JACK=9,t.CLUBS_QUEEN=10,t.CLUBS_KING=11,t.CLUBS_ACE=12,t.DIAMONDS_TWO=13,t.DIAMONDS_THREE=14,t.DIAMONDS_FOUR=15,t.DIAMONDS_FIVE=16,t.DIAMONDS_SIX=17,t.DIAMONDS_SEVEN=18,t.DIAMONDS_EIGHT=19,t.DIAMONDS_NINE=20,t.DIAMONDS_TEN=21,t.DIAMONDS_JACK=22,t.DIAMONDS_QUEEN=23,t.DIAMONDS_KING=24,t.DIAMONDS_ACE=25,t.HEARTS_TWO=26,t.HEARTS_THREE=27,t.HEARTS_FOUR=28,t.HEARTS_FIVE=29,t.HEARTS_SIX=30,t.HEARTS_SEVEN=31,t.HEARTS_EIGHT=32,t.HEARTS_NINE=33,t.HEARTS_TEN=34,t.HEARTS_JACK=35,t.HEARTS_QUEEN=36,t.HEARTS_KING=37,t.HEARTS_ACE=38,t.SPADES_TWO=39,t.SPADES_THREE=40,t.SPADES_FOUR=41,t.SPADES_FIVE=42,t.SPADES_SIX=43,t.SPADES_SEVEN=44,t.SPADES_EIGHT=45,t.SPADES_NINE=46,t.SPADES_TEN=47,t.SPADES_JACK=48,t.SPADES_QUEEN=49,t.SPADES_KING=50,t.SPADES_ACE=51,t}();o.DEFINE_CHARACTER=i,cc._RF.pop()},{}],Connector:[function(t,e,o){"use strict";cc._RF.push(e,"50930p7WZNBUpJcyi8PRwBf","Connector");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Connector=void 0;var a,s=cc._decorator,c=s.ccclass,l=s.property;(function(t){t[t["IP C\xf4ng Ty"]=0]="IP C\xf4ng Ty",t[t.localhost=1]="localhost"})(a||(a={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.is_ssl=!1,e.login_host=0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this},e.instance=null,r([l],e.prototype,"is_ssl",void 0),r([l({type:cc.Enum(a)})],e.prototype,"login_host",void 0),o=r([c],e)}(cc.Component);o.Connector=h,cc._RF.pop()},{}],Constants:[function(t,e,o){"use strict";cc._RF.push(e,"067c8zq//tIA5Hn1yxvTk5C","Constants"),Object.defineProperty(o,"__esModule",{value:!0}),o.characterAnims=o.itemHookName=o.explosionRadius=o.uniScale=void 0;var n=cc._decorator;n.ccclass,n.property,o.uniScale=2,o.explosionRadius=3,o.itemHookName=["ROCK_SMALL","ROCK_MEDIUM","ROCK_LARGE","GOLD_SMALL","GOLD_MEDIUM","GOLD_LARGE","DIAMOND_SMALL","DIAMOND_MEDIUM","BAG","TNT","SKE_HEAD","SKE_BONE","MOLE","MOLE_DIA_SMALL","MOLE_DIA_MEDIUM"],o.characterAnims={MINER_DOWN:0,MINER_UP:1,MINER_STR:2,MINER_THROW:3},cc._RF.pop()},{}],CustomFontLabel:[function(t,e,o){"use strict";cc._RF.push(e,"e03a3xlg2VHZ7GswqFSd2/2","CustomFontLabel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultCacheMode=cc.Label.CacheMode.NONE,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this.defaultCacheMode=this.cacheMode},e.prototype.start=function(){"km"===o.lang?this.cacheMode=cc.Label.CacheMode.NONE:this.cacheMode=this.defaultCacheMode,this.font=o.mapFonts.get(o.lang)||this.font,this.useSystemFont=!1},e.mapFonts=new Map,e.lang="en",o=r([s],e)}(cc.Label));o.default=c,cc._RF.pop()},{}],DataMgr:[function(t,e,o){"use strict";cc._RF.push(e,"8a225lER3xMEqDVIRDPNVWj","DataMgr");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},i=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{c(n.next(t))}catch(e){r(e)}}function s(t){try{c(n.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,s)}c((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.DataManager=void 0;var a=cc._decorator.ccclass,s=function(){function t(){this._fishes=null,this._characters=null,this._paths=null}var e;return e=t,Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),t.prototype.loadAll=function(){return i(this,void 0,Promise,function(){var t,e,o,n;return r(this,function(i){switch(i.label){case 0:return[4,Promise.all([this.loadJSON("db/fish"),this.loadJSON("db/characters"),this.loadJSON("db/paths")])];case 1:return t=i.sent(),e=t[0],o=t[1],n=t[2],this._fishes=e,this._characters=o,this._paths=n,[2]}})})},t.prototype.loadJSON=function(t){return new Promise(function(e,o){cc.resources.load(t,function(n,i){if(n)return cc.error("[DataManager] Load failed: "+t,n),void o(n);e(i.json)})})},t.prototype.getPrefabPath=function(t){var e=this._paths.prefabs;for(var o in e)if(e[o][t])return e[o][t];return null},t.prototype.getPrefabs=function(t){var e=this;return new Promise(function(o,n){var i=e.getPrefabPath(t);i?cc.resources.load(i,cc.Prefab,function(t,e){t?n(t):o(e)}):n(new Error('Prefab "'+t+'" not found in path config'))})},t.prototype.getSoundPath=function(t){var e=this._paths.sounds;for(var o in cc.log(e),e)if(e[o][t])return e[o][t];return null},t.prototype.getClip=function(t){var e=this;return new Promise(function(o,n){var i=e.getSoundPath(t);i?cc.resources.load(i,cc.AudioClip,function(t,e){t?n(t):o(e)}):n(new Error('Clip "'+t+'" not found in path config'))})},t.prototype.getTexturePath=function(t){return this._paths.textures[t]},e=n([a],t)}();o.DataManager=s,cc._RF.pop()},{}],EventMgr:[function(t,e,o){"use strict";cc._RF.push(e,"a4c2a4wycdHtJ0v2QWhshX+","EventMgr");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.EventMgr=void 0;var i=cc._decorator.ccclass,r=function(){function t(){this.eventTarget=new cc.EventTarget}var e;return e=t,Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,o){this.eventTarget.on(t,e,o)},t.prototype.once=function(t,e,o){this.eventTarget.once(t,e,o)},t.prototype.off=function(t,e,o){this.eventTarget.off(t,e,o)},t.prototype.emit=function(t,e){this.eventTarget.emit(t,e)},e=n([i],t)}();o.EventMgr=r,cc._RF.pop()},{}],FishCtrl:[function(t,e,o){"use strict";cc._RF.push(e,"bd9333EIK5H94s3gNt8YjOa","FishCtrl");var n,i,r,a,s,c,l,h=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),u=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},p=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{c(n.next(t))}catch(e){r(e)}}function s(t){try{c(n.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,s)}c((n=n.apply(t,e||[])).next())})},d=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.MapRate=o.Area=o.FishStats=o.FishName=o.FishRarity=void 0;var f,g,y,_=t("../../manager/DataMgr"),v=t("../../utils/SoundUtil"),m=t("./Fish"),b=t("./GamePlayMgr"),C=cc._decorator.ccclass;(function(t){t.Common="common",t.Uncommon="uncommon",t.Rare="rare",t.Epic="epic",t.Legend="legend"})(f=o.FishRarity||(o.FishRarity={})),function(t){t.Abyssal_Leviathan="Abyssal Leviathan",t.Atlantic_Mackerel="Atlantic Mackerel",t.Bermuda_Moonfish="Bermuda Moonfish",t.Crystal_Seadragon="Crystal Seadragon",t.Great_Barracuda="Great Barracuda",t.Leafy_Sea_Dragon="Leafy Seadragon",t.Neon_Tetra="Neon Tetra",t.Ocean_Seraph="Ocean Seraph",t.Ocean_Sunfish="Ocean Sunfish",t.Shadowfin_Marlin="Shadowfin Marlin",t.Swordfish="Swordfish",t.Voidfin_Levi="Voidfin Levi",t.Lionfish="lionfish",t.Fish_Shadow="fish_shadow"}(g=o.FishName||(o.FishName={})),o.FishStats=((i={})[g.Atlantic_Mackerel]={id:1,length:30,value:25,rarity:f.Common,call:g.Atlantic_Mackerel},i[g.Neon_Tetra]={id:2,length:6.5,value:15,rarity:f.Common,call:g.Neon_Tetra},i[g.Swordfish]={id:3,length:90,value:50,rarity:f.Uncommon,call:g.Swordfish},i[g.Leafy_Sea_Dragon]={id:4,length:35,value:30,rarity:f.Uncommon,call:g.Leafy_Sea_Dragon},i[g.Ocean_Sunfish]={id:5,length:300,value:200,rarity:f.Rare,call:g.Ocean_Sunfish},i[g.Great_Barracuda]={id:6,length:150,value:100,rarity:f.Rare,call:g.Great_Barracuda},i[g.Bermuda_Moonfish]={id:7,length:330,value:400,rarity:f.Epic,call:g.Bermuda_Moonfish},i[g.Crystal_Seadragon]={id:9,length:45,value:120,rarity:f.Epic,call:g.Crystal_Seadragon},i[g.Lionfish]={id:10,length:50,value:200,rarity:f.Epic,call:g.Lionfish},i[g.Abyssal_Leviathan]={id:11,length:3350,value:800,rarity:f.Legend,call:g.Abyssal_Leviathan},i[g.Ocean_Seraph]={id:12,length:38,value:400,rarity:f.Legend,call:g.Ocean_Seraph},i[g.Voidfin_Levi]={id:13,length:1400,value:1e3,rarity:f.Legend,call:g.Voidfin_Levi},i),function(t){t[t.Near=0]="Near",t[t.MEDIUM=1]="MEDIUM",t[t.FAR=2]="FAR",t[t.FARTHEST=3]="FARTHEST"}(y=o.Area||(o.Area={})),o.MapRate=((r={})[y.Near]=((a={})[f.Common]=0,a[f.Uncommon]=0,a[f.Rare]=30,a[f.Epic]=65,a[f.Legend]=5,a),r[y.MEDIUM]=((s={})[f.Common]=0,s[f.Uncommon]=0,s[f.Rare]=30,s[f.Epic]=65,s[f.Legend]=5,s),r[y.FAR]=((c={})[f.Common]=0,c[f.Uncommon]=0,c[f.Rare]=30,c[f.Epic]=65,c[f.Legend]=5,c),r[y.FARTHEST]=((l={})[f.Common]=0,l[f.Uncommon]=0,l[f.Rare]=30,l[f.Epic]=65,l[f.Legend]=5,l),r);var T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fishPrefab=null,e.fishes=[],e.spawnRangeX=3240,e.spawnRangeY=1056,e.fishSwimData=new Map,e}return h(e,t),e.prototype.start=function(){var t=this;this.scheduleOnce(function(){return p(t,void 0,void 0,function(){var t=this;return d(this,function(){try{_.DataManager.instance.getPrefabs("Fish").then(function(e){t.fishPrefab=e,t.spawnInitialFish()})}catch(e){cc.error("Failed to load fish prefab:",e)}return[2]})})},.2)},e.prototype.spawnInitialFish=function(){for(var t,e=((t={})[y.Near]=10,t[y.MEDIUM]=10,t[y.FAR]=10,t[y.FARTHEST]=10,t),o=0,n=Object.values(y).filter(function(t){return"number"==typeof t});o<n.length;o++){var i=n[o];this.spawnFishByArea(i,e[i])}cc.log("\ud83c\udfa3 Total spawned fishes: "+this.fishes.length)},e.prototype.onHookInWater=function(t){for(var e=this,o=null,n=1/0,i=t.parent.convertToWorldSpaceAR(t.getPosition()),r=this.node.convertToNodeSpaceAR(i),a=0,s=this.fishes;a<s.length;a++){var c=s[a],l=c.node.getPosition().sub(r).mag();l<n&&(n=l,o=c)}if(cc.log("\ud83c\udfaf Nearest fish: "+o.stats.call+", tipInWater: "+r),o){this.fishes=this.fishes.filter(function(t){return t.node!==o.node}),o.node.stopAllActions();var h=o.node.parent.convertToWorldSpaceAR(o.node.position),u=t.convertToNodeSpaceAR(h);o.node.parent=t,o.node.setPosition(u),o.node.angle=t.angle,o.node.scaleX=-o.node.scaleX;var p=cc.v2(0,5-t.height);cc.log(o.node.x<p.x),(o.node.x<p.x&&o.node.scaleX>0||o.node.x>p.x&&o.node.scaleX<0)&&(o.node.scaleX=-o.node.scaleX),o.node.getComponent(m.default).isHooked=!0;var d=cc.moveTo(1,cc.v2(0,-30)).easing(cc.easeCubicActionInOut());o.node.runAction(d),this.scheduleOnce(function(){e.onFishBite(o),t.stopAllActions()},1)}},e.prototype.onFishBite=function(t){this.node.emit("FishBitten",t),v.default.instance.playSFX(v.SFX.FishBite),v.default.instance.playSFX(v.SFX.FishFlounder),t.node.children[0].getComponent(sp.Skeleton).setAnimation(0,"catch",!0);var e=this.node.parent.getComponent(b.default);e&&e.startMiniGame(t)},e.prototype.getRandomRarityForArea=function(t){var e=o.MapRate[t],n=Object.values(e).reduce(function(t,e){return t+e},0),i=Math.random()*n;for(var r in e)if((i-=e[r])<=0)return r;return f.Common},e.prototype.getFishNamesByRarity=function(t){return Object.keys(o.FishStats).filter(function(e){return o.FishStats[e].rarity===t})},e.prototype.spawnFishByArea=function(t,e){if(this.fishPrefab){this.spawnRangeY;for(var n=this.spawnRangeX/4,i=n*t-this.spawnRangeX/2,r=i+n,a=this.spawnRangeY/2,s=0;s<e;s++){var c=this.getRandomRarityForArea(t),l=this.getFishNamesByRarity(c);if(0!==l.length){var h=l[Math.floor(Math.random()*l.length)],u=o.FishStats[h],p=cc.instantiate(this.fishPrefab);p.parent=this.node;var d=p.children[0].getComponent(sp.Skeleton);cc.log("Spawning fish:",h,"Rarity:",c),d.defaultSkin=h,d.setSkin(h),d.defaultAnimation="swim",d.setAnimation(0,"swim",!0);var f=i+Math.random()*(r-i),g=Math.random()*(this.spawnRangeY-200)-(a-100);p.setPosition(f,g),p.scaleX=Math.random()<.5?1:-1;var _=p.addComponent(m.default);switch(_.stats=u,_.area=t,t){case y.Near:_.roamArea=cc.rect(-1500,0,1e3,500);break;case y.MEDIUM:_.roamArea=cc.rect(-500,0,1e3,500);break;case y.FAR:_.roamArea=cc.rect(500,0,1e3,500);break;case y.FARTHEST:_.roamArea=cc.rect(1500,0,1e3,500);break;default:_.roamArea=cc.rect(-1500,0,1e3,500)}this.fishes.push({node:p,stats:u,area:t});var v=Math.random()<.5?-1:1;this.fishSwimData.set(p,{dir:v,baseY:g})}}cc.log("\ud83d\udc20 Spawned "+e+" fishes in area "+y[t])}},u([C],e)}(cc.Component);o.default=T,cc._RF.pop()},{"../../manager/DataMgr":"DataMgr","../../utils/SoundUtil":"SoundUtil","./Fish":"Fish","./GamePlayMgr":"GamePlayMgr"}],Fish:[function(t,e,o){"use strict";cc._RF.push(e,"863bfsB5EZCNbj/QQupPZ3l","Fish");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./FishCtrl"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maxSpeed=200,e.velocity=cc.v2(0,0),e.direction=1,e.roamArea=cc.rect(-1500,0,1e3,500),e.angle=0,e.targetPos=cc.v2(0,0),e.area=a.Area.Near,e.isHooked=!1,e.stats=null,e}return i(e,t),e.prototype.onLoad=function(){this.pickNewTarget()},e.prototype.update=function(t){if(!this.isHooked){var e=this.targetPos.sub(this.node.getPosition());if(e.mag()<10)this.pickNewTarget();else{var o=e.normalize();this.node.x+=o.x*this.maxSpeed*t,this.node.y+=o.y*this.maxSpeed*t,o.x>=0?this.node.scaleX=-1:this.node.scaleX=1;var n;n=1===this.node.scaleX?180*Math.atan2(-o.y,-o.x)/Math.PI:180*Math.atan2(o.y,o.x)/Math.PI,this.angle=cc.misc.lerp(this.angle,n,.02),this.node.angle=this.angle}}},e.prototype.pickNewTarget=function(){var t,e=this.roamArea,o=0;do{var n=e.x+Math.random()*e.width,i=e.y+Math.random()*e.height;t=cc.v2(n,i),o++}while(this.targetPos.sub(t).mag()<800&&o<10);this.targetPos=t,this.maxSpeed=100+300*Math.random()},r([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{"./FishCtrl":"FishCtrl"}],GameCoreMgr:[function(t,e,o){"use strict";cc._RF.push(e,"bf59c/u3uZHebYRjv7AEd5R","GameCoreMgr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{c(n.next(t))}catch(e){r(e)}}function s(t){try{c(n.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,s)}c((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../scripts/manager/DataMgr"),l=t("./LanguageMgr"),h=cc._decorator,u=h.ccclass,p=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._nGamePlay=null,e._nLobby=null,e._nCamera=null,e._nBG=null,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,cc.view.setDesignResolutionSize(1080,1920,cc.ResolutionPolicy.SHOW_ALL),cc.debug.setDisplayStats(!1),cc.view.resizeWithBrowserSize(!0),l.LanguageManager.updateLang()},e.prototype.start=function(){return a(this,void 0,Promise,function(){var t=this;return s(this,function(e){switch(e.label){case 0:return[4,c.DataManager.instance.loadAll()];case 1:return e.sent(),cc.resources.preloadDir("prefabs",function(){},function(e,o){e?console.error("L\u1ed7i load:",e):(console.log("Load xong to\xe0n b\u1ed9:",o.length),t.initBGNode(),t.initGamePlayNode(),t.initLobbyNode(),t.initCameraNode(),t.scheduleOnce(function(){t.node.sortAllChildren(),cc.log(t._nCamera.getSiblingIndex()),t._nBG.active=!0,t._nLobby.active=!0},.1))}),[2]}})})},e.prototype.initBGNode=function(){this._nBG=cc.find("BG",this.node),this._nBG.setSiblingIndex(0),this._nBG.active=!1},e.prototype.initGamePlayNode=function(){var t=this;c.DataManager.instance.getPrefabs("GamePlay").then(function(e){t._nGamePlay=cc.instantiate(e),t._nGamePlay.setPosition(cc.v2(0,0)),t._nGamePlay.parent=t.node,t._nGamePlay.getComponent(cc.Widget).updateAlignment(),t._nGamePlay.setSiblingIndex(1),t._nGamePlay.active=!1})},e.prototype.initLobbyNode=function(){var t=this;c.DataManager.instance.getPrefabs("Lobby").then(function(e){t._nLobby=cc.instantiate(e),t._nLobby.parent=t.node,t._nLobby.setSiblingIndex(1),t._nLobby.active=!1})},e.prototype.initCameraNode=function(){this._nCamera=cc.find("Main Camera",this.node),this._nCamera.setSiblingIndex(10)},e.prototype.activateGamePlay=function(){this._nBG.children[2].active=!1,this._nBG.children[0].active=!0,this._nBG.children[1].active=!0,this._nBG.children[0].getComponent(cc.Widget).updateAlignment(),this._nBG.children[1].getComponent(cc.Widget).updateAlignment(),this._nLobby.active=!1,this._nGamePlay.active=!0},e.prototype.lobbyBgEvent=function(t){this._nBG.children[2].on(cc.Node.EventType.TOUCH_START,t,this._nBG)},e.prototype.getCameraPos=function(){return this._nCamera.getPosition()},e.prototype.getCameraWorldPos=function(){return this._nCamera.convertToWorldSpaceAR(cc.v2(0,0))},e.prototype.setCameraPosition=function(t){this._nCamera.setPosition(t)},e.prototype.updateCameraFollow=function(t){if(this._nCamera){var e=this._nCamera.getPosition(),o=cc.misc.lerp(e.x,t.x,1);this._nCamera.setPosition(o,e.y)}},e.instance=null,o=r([u],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../scripts/manager/DataMgr":"DataMgr","./LanguageMgr":"LanguageMgr"}],GamePlayMgr:[function(t,e,o){"use strict";cc._RF.push(e,"f34978+ZRFPE6toBNMD/VVX","GamePlayMgr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{c(n.next(t))}catch(e){r(e)}}function s(t){try{c(n.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,s)}c((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../manager/DataMgr"),l=t("../../manager/GameCoreMgr"),h=t("../../utils/SoundUtil"),u=t("../UICtrl"),p=t("./FishCtrl"),d=t("./MinigameController"),f=t("./PopUp"),g=cc._decorator,y=g.ccclass,_=g.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rod=null,e.ropeNode=null,e.hook=null,e.arrow=null,e.angleNode=null,e.waterArea=null,e.minigameUI=null,e.popup=null,e.characterSpine=null,e.maxPower=300,e.gravity=-600,e.isCharging=!1,e.chargePower=0,e.currentAngle=45,e.isFlying=!1,e.hookVelocity=cc.v2(0,0),e.hookInitialPos=cc.v2(),e.cameraOffset=cc.v2(),e.hookedFish=null,e.hookedFishInfo=null,e.isInWater=!1,e.waterSinkSpeed=50,e.waterTargetDepth=250,e.circularRadius=0,e.circularAngle=0,e}return i(e,t),e.prototype.onLoad=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,c.DataManager.instance.loadAll()];case 1:return t.sent(),u.default.instance.activeatePowerBar(!1),this.angleNode.active=!0,this.hookInitialPos=cc.v2(382,322),this.hook.setPosition(cc.v2(382,322)),[2]}})})},e.prototype.start=function(){this.node.getChildByName("Player").active=!0,h.default.instance.playBGM(h.BGM.AtlantisOcean),h.default.instance.playSFX(h.SFX.BigWave,!0,.3),this.characterSpine.setAnimation(0,"stand",!0),this.schedule(this.updateAngle,.02);var t=l.default.instance.getCameraWorldPos(),e=this.hook.convertToWorldSpaceAR(cc.v2(0,0));this.cameraOffset=cc.v2(t.x-e.x-500,0)},e.prototype.updateAngle=function(){if(this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),!this.isFlying){var t=Date.now()%2e3/2e3,e=.5*Math.sin(t*Math.PI*2)+.5;this.currentAngle=90*e,this.arrow.angle=-this.currentAngle}},e.prototype.onTouchStart=function(){this.isFlying||(this.unschedule(this.updateAngle),u.default.instance.activeatePowerBar(!0),u.default.instance.updatePowerBarProgress(),this.isCharging=!0,this.chargePower=0,this.schedule(this.increasePower,.02))},e.prototype.increasePower=function(){this.isCharging?(this.chargePower+=this.maxPower/10,this.chargePower>this.maxPower&&(this.chargePower=this.maxPower),u.default.instance.updatePowerBarProgress(this.chargePower/this.maxPower)):this.unschedule(this.increasePower)},e.prototype.onTouchEnd=function(){this.isCharging&&!this.isFlying&&(this.isCharging=!1,this.unschedule(this.increasePower),this.launchHook(),this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this))},e.prototype.launchHook=function(){var t=this;h.default.instance.playSFX(h.SFX.LaunchHook),this.characterSpine.setAnimation(0,"thrown",!1),this.scheduleOnce(function(){t.characterSpine.setAnimation(0,"stand",!0),t.isFlying=!0,t.ropeNode&&t.ropeNode.getComponent("RopeRenderer").setFlyingState(!0);var e=cc.misc.degreesToRadians(90-t.currentAngle),o=Math.cos(e)*t.chargePower*4.5,n=Math.sin(e)*t.chargePower*4.5;t.hookVelocity=cc.v2(o,n);var i=Math.atan2(t.hookVelocity.y,t.hookVelocity.x),r=cc.misc.radiansToDegrees(i)+90;t.hook.angle=r,t.scheduleOnce(function(){u.default.instance.activeatePowerBar(!1),t.angleNode.active=!1},.5)},.5)},e.prototype.update=function(t){if(this.isFlying){this.hookVelocity.y+=this.gravity*(1+Math.abs(this.hookVelocity.y)/500)*t,this.hook.setPosition(this.hook.getPosition().add(this.hookVelocity.mul(t)));var e=this.hookVelocity.normalize(),o=Math.atan2(e.y,e.x),n=cc.misc.radiansToDegrees(o)+90;this.hook.angle=cc.misc.lerp(this.hook.angle,n,.2);var i=this.hook.convertToWorldSpaceAR(cc.v2(0,0));l.default.instance.updateCameraFollow(i.add(this.cameraOffset));var r=this.waterArea.y+this.waterArea.height/2;if(this.hook.y<=r)return this.hook.stopAllActions(),void this.hookHitWater()}},e.prototype.hookHitWater=function(){var t=this;h.default.instance.playSFX(h.SFX.HookTouchWater,!1,1),this.isFlying=!1,this.ropeNode&&this.ropeNode.getComponent("RopeRenderer").setFlyingState(!1),this.hookVelocity=cc.v2(0,0);var e=this.getRodTipWorldPos(),o=this.hook.parent.convertToNodeSpaceAR(e),n=this.hook.y-1e3;cc.log(this.hook.x-o.x,1e3);var i=this.hook.x-Math.min(this.hook.x-o.x,1e3),r=this.waterArea.getComponent(p.default),a=cc.sequence(cc.moveTo(5,cc.v2(i,Math.min(i,n))),cc.callFunc(function(){cc.log("\ud83d\udca7 Hook reached depth, waiting for fish..."),t.waterArea&&r?cc.log("\ud83d\udca7 Hook entered water, starting slow sink and curve move..."):cc.warn("\u26a0\ufe0f fishCtrl ch\u01b0a \u0111\u01b0\u1ee3c g\xe1n trong GamePlayMgr")}));this.hook.runAction(a),this.scheduleOnce(function(){r.onHookInWater(t.hook)},2.5),this.schedule(function(){var e=t.hook.convertToWorldSpaceAR(cc.v2(0,0));l.default.instance.updateCameraFollow(e.add(t.cameraOffset))},.01,500,0)},e.prototype.getRodTipWorldPos=function(){if(!this.rod)return cc.v2(0,0);var t=this.rod.getAnchorPoint(),e=cc.v2(this.rod.width*(1-t.x),this.rod.height*(1-t.y));return this.rod.convertToWorldSpaceAR(e)},e.prototype.getHookTipWorldPos=function(){if(!this.hook)return cc.v2(0,0);var t=this.hook.getAnchorPoint(),e=this.hook.width,o=this.hook.height,n=cc.v2((.5-t.x)*e,-o*t.y),i=cc.misc.degreesToRadians(this.hook.angle),r=Math.cos(i),a=Math.sin(i),s=cc.v2(n.x*r-n.y*a,n.x*a+n.y*r);return this.hook.convertToWorldSpaceAR(s)},e.prototype.startMiniGame=function(t){var e=this;this.hookedFishInfo=t,this.hookedFish=t.node;var o=1;switch(t.stats.rarity){case"common":o=1;break;case"uncommon":o=1.2;break;case"rare":o=1.4;break;case"epic":o=1.7;break;case"legend":o=2}var n=cc.instantiate(this.minigameUI);n.active=!0,n.parent=t.node,n.setPosition(0,-100),n.getComponent(d.default).startMiniGame(o),n.on("MiniGameProgress",this.onMiniGameProgress,this),n.on("MiniGameMiss",this.onMiniGameMiss,this),n.on("MiniGameWin",function(){n.destroy()},this),n.on("MiniGameFail",function(){e.onMiniGameFail(),n.destroy()},this)},e.prototype.onMiniGameMiss=function(t){cc.log("\ud83c\udfaf MiniGame miss: "+t),h.default.instance.playSFX(h.SFX.LineSnap),.8===t&&h.default.instance.playSFX(h.SFX.Warning),u.default.instance.updatePowerBarProgress(t)},e.prototype.onMiniGameProgress=function(t){var e=this;cc.log("\ud83c\udfaf MiniGame progress: "+t),h.default.instance.playSFX(h.SFX.PullLine),this.characterSpine.setAnimation(0,"fishing",!1),this.scheduleOnce(function(){e.characterSpine.setAnimation(0,"stand",!0)},.5);var o=this.getRodTipWorldPos(),n=this.hook.parent.convertToNodeSpaceAR(o),i=this.hook.getPosition(),r=.1+.9*Math.pow(t,2.2),a=i.lerp(n,r);this.hook.stopAllActions(),this.hook.runAction(cc.callFunc(function(){var t=e.getRodTipWorldPos(),o=e.hook.parent.convertToNodeSpaceAR(t),n=cc.moveTo(.6,o).easing(cc.easeBackIn());e.hook.runAction(n),e.scheduleOnce(function(){e.onMiniGameWin(),e.resetCycle()},.6)})),l.default.instance.updateCameraFollow(a)},e.prototype.onMiniGameWin=function(){var t=this;if(cc.log("\ud83c\udfc6 Fish successfully caught!"),h.default.instance.playSFX(h.SFX.Success1),h.default.instance.playSFX(h.SFX.Success2),this.hookedFish){this.hookedFish.destroy(),this.hookedFish=null;var e=cc.callFunc(function(){t.popup.getComponent(f.default).openPopup()}),o=cc.callFunc(function(){t.popup.getComponent(f.default).setFishInfo(t.hookedFishInfo.stats.call,t.hookedFishInfo.stats.length,t.hookedFishInfo.stats.value,t.hookedFishInfo.stats.rarity,t.hookedFishInfo.stats.id)}),n=cc.sequence(e,o);this.node.runAction(n)}this.resetCycle()},e.prototype.onMiniGameFail=function(){var t=this;cc.log("\ud83d\udca5 Line snapped, fish escaped!"),this.hook.runAction(cc.sequence(cc.moveBy(.5,cc.v2(0,-100)).easing(cc.easeIn(2)),cc.callFunc(function(){var e=t.getRodTipWorldPos(),o=t.hook.parent.convertToNodeSpaceAR(e),n=cc.moveTo(.6,o).easing(cc.easeBackIn());t.hook.runAction(n),t.scheduleOnce(function(){t.resetCycle()},.6)}))),this.hookedFish&&(this.hookedFish.parent=this.waterArea,this.hookedFish.children[0].getComponent(sp.Skeleton).setAnimation(0,"swim",!0),cc.log("\ud83d\udc1f Released fish back to water",this.hookedFish),this.hookedFish=null)},e.prototype.resetHook=function(){cc.log("\ud83d\udd04 Reset hook position"),this.hook.stopAllActions();var t=this.getRodTipWorldPos(),e=this.hook.parent.convertToNodeSpaceAR(t);this.hook.setPosition(e),this.hook.angle=0},e.prototype.resetCycle=function(){this.resetHook(),this.isFlying=!1,this.hookVelocity=cc.v2(0,0),this.hookedFish=null,l.default.instance.setCameraPosition(cc.v2(0,0)),u.default.instance.activeatePowerBar(!1),this.angleNode.active=!0,this.schedule(this.updateAngle,.02)},r([_(cc.Node)],e.prototype,"rod",void 0),r([_(cc.Node)],e.prototype,"ropeNode",void 0),r([_(cc.Node)],e.prototype,"hook",void 0),r([_(cc.Node)],e.prototype,"arrow",void 0),r([_(cc.Node)],e.prototype,"angleNode",void 0),r([_(cc.Node)],e.prototype,"waterArea",void 0),r([_(cc.Node)],e.prototype,"minigameUI",void 0),r([_(cc.Node)],e.prototype,"popup",void 0),r([_(sp.Skeleton)],e.prototype,"characterSpine",void 0),r([y],e)}(cc.Component);o.default=v,cc._RF.pop()},{"../../manager/DataMgr":"DataMgr","../../manager/GameCoreMgr":"GameCoreMgr","../../utils/SoundUtil":"SoundUtil","../UICtrl":"UICtrl","./FishCtrl":"FishCtrl","./MinigameController":"MinigameController","./PopUp":"PopUp"}],HookCtrl:[function(t,e,o){"use strict";cc._RF.push(e,"d1fb4DYMPpGYpWgwLlGI3MZ","HookCtrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.velocity=cc.v3(),e.isFlying=!1,e}return i(e,t),e.prototype.onLaunch=function(t){this.velocity=t.clone(),this.isFlying=!0},e.prototype.stop=function(){this.isFlying=!1,this.velocity=cc.v3()},e.prototype.update=function(){this.isFlying},r([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],InputMgr:[function(t,e,o){"use strict";cc._RF.push(e,"1092eOpRJtAqKoqjlANWTQX","InputMgr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./EventMgr"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.activeTouches=new Map,e.longPressThreshold=.5,e.swipeThreshold=50,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance||(o.instance=this),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.prototype.onTouchStart=function(t){var e=this,o=t.getID(),n=t.getLocation(),i=Date.now()/1e3;this.activeTouches.set(o,{startPos:n,startTime:i}),this.scheduleOnce(function(){e.activeTouches.has(o)&&a.EventMgr.instance.emit("longPress",{id:o,pos:n})},this.longPressThreshold),a.EventMgr.instance.emit("touchStart",{id:o,pos:n})},e.prototype.onTouchMove=function(t){var e=t.getID(),o=t.getLocation(),n=this.activeTouches.get(e);if(n){var i=o.sub(n.startPos);if(Math.abs(i.x)>this.swipeThreshold||Math.abs(i.y)>this.swipeThreshold){var r;r=Math.abs(i.x)>Math.abs(i.y)?i.x>0?"right":"left":i.y>0?"up":"down",a.EventMgr.instance.emit("swipe",{direction:r,delta:i}),this.activeTouches.delete(e)}a.EventMgr.instance.emit("touchMove",{id:e,pos:o})}},e.prototype.onTouchEnd=function(t){var e=t.getID(),o=t.getLocation(),n=this.activeTouches.get(e);n&&(Date.now()/1e3-n.startTime<this.longPressThreshold&&a.EventMgr.instance.emit("tap",{id:e,pos:o}),this.activeTouches.delete(e),a.EventMgr.instance.emit("touchEnd",{id:e,pos:o}))},e.prototype.onTouchCancel=function(t){var e=t.getID(),o=t.getLocation();this.activeTouches.delete(e),a.EventMgr.instance.emit("touchCancel",{id:e,pos:o})},e.prototype.onKeyDown=function(t){a.EventMgr.instance.emit("keyDown",t.keyCode)},e.prototype.onKeyUp=function(t){a.EventMgr.instance.emit("keyUp",t.keyCode)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.instance=null,o=r([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{"./EventMgr":"EventMgr"}],LabelFontSet:[function(t,e,o){"use strict";cc._RF.push(e,"33abcbdMrBNLrJRIwRxlur2","LabelFontSet");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,a=i.property,s=cc.Enum({VN:0,EN:1,MM:2,TL:3,CAM:4}),c=function(){function t(){this.language=s.VN,this.fontName=null,this.fontSize=20}return t.prototype.setLang=function(t){this.language=t},n([a({type:s})],t.prototype,"language",void 0),n([a(cc.Font)],t.prototype,"fontName",void 0),n([a({type:cc.Integer})],t.prototype,"fontSize",void 0),n([r("LabelFontSet")],t)}();o.default=c,cc._RF.pop()},{}],LabelLocalized:[function(t,e,o){"use strict";cc._RF.push(e,"3f121i5KA9Pwr7nSnv0oxa/","LabelLocalized");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../manager/LanguageMgr"),s=t("./LabelFontSet"),c=cc._decorator,l=c.ccclass,h=c.property,u=c.requireComponent,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isUseCCFont=!1,e.fontSizeActive=a.LABEL_FONT_SIZE_CONFIG.NORMAL,e.isCustomFontSize=!1,e.textKey="",e.upperCaseString=!1,e.isSystemFontUsed=!1,e._localizedString="",e.lbFont=e.loadLang(),e}return i(e,t),Object.defineProperty(e.prototype,"notify",{get:function(){return this._updateText()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localizedString",{get:function(){return a.LanguageManager.getString(this.textKey)||""},set:function(t){this.textKey=t},enumerable:!1,configurable:!0}),e.prototype.loadLang=function(){for(var t=[],e=0;e<Object.keys(a.LANGUAGE).length;e++){var o=new s.default;o.setLang(e),t.push(o)}return t},e.prototype.start=function(){cc.Canvas.instance},e.prototype.updateLanguage=function(){this._updateCustomFont(),this._updateText()},e.prototype._updateCustomFont=function(){if(this.isUseCCFont){var t=a.LanguageManager.getCurrentLanguage(),e=Object.values(a.LANGUAGE).indexOf(t);if(this.isCustomFontSize)this.lbFont[e].fontName&&(this.node.getComponent(cc.Label).font=this.lbFont[e].fontName),this.lbFont[e].fontSize&&(this.node.getComponent(cc.Label).fontSize=this.lbFont[e].fontSize);else if(this.node.getComponent(cc.Label).fontSize=this.getSizeByKeyEnum(this.fontSizeActive),this.fontSizeActive==a.LABEL_FONT_SIZE_CONFIG.TITLE_MENU||this.fontSizeActive==a.LABEL_FONT_SIZE_CONFIG.CONTENT_POPUP||this.fontSizeActive==a.LABEL_FONT_SIZE_CONFIG.CONTENT_MENU||this.fontSizeActive==a.LABEL_FONT_SIZE_CONFIG.NORMAL)this.fontSizeActive==a.LABEL_FONT_SIZE_CONFIG.TITLE_MENU&&(this.node.getComponent(cc.Label).enableBold=!0);else switch(this.node.getComponent(cc.Label).enableBold=!0,this._addLabelShadow(),this.fontSizeActive){case a.LABEL_FONT_SIZE_CONFIG.TITLE_POPUP:this._addLabelOutLine(cc.color(184,74,1,255)),this.node.color=cc.color(255,218,45,255);break;case a.LABEL_FONT_SIZE_CONFIG.BUTTON_POPUP:this._addLabelOutLine(cc.color(106,71,3,255)),this.node.color=cc.color(255,204,45,255)}}},e.prototype.getSizeByKeyEnum=function(t){var e=20;switch(t){case a.LABEL_FONT_SIZE_CONFIG.TITLE_POPUP:e=40;break;case a.LABEL_FONT_SIZE_CONFIG.CONTENT_POPUP:e=28;break;case a.LABEL_FONT_SIZE_CONFIG.BUTTON_POPUP:e=30;break;case a.LABEL_FONT_SIZE_CONFIG.TITLE_MENU:e=26;break;case a.LABEL_FONT_SIZE_CONFIG.CONTENT_MENU:e=20;break;case a.LABEL_FONT_SIZE_CONFIG.NORMAL:e=22}return e},e.prototype._addLabelShadow=function(t,e){void 0===t&&(t=2),void 0===e&&(e=-3);var o=this.node.getComponent(cc.LabelShadow);o||(o=this.node.addComponent(cc.LabelShadow)),o.color=cc.Color.BLACK,o.blur=t,o.offset.x=0,o.offset.y=e},e.prototype._addLabelOutLine=function(t,e){void 0===t&&(t=cc.Color.ORANGE),void 0===e&&(e=2);var o=this.node.getComponent(cc.LabelOutline);o||(o=this.node.addComponent(cc.LabelOutline)),o.color=t,o.width=e},e.prototype.onLoad=function(){this._updateCustomFont(),this._updateText()},e.prototype._updateText=function(){return this.localizedString&&(this.upperCaseString?this.node.getComponent(cc.Label).string=a.LanguageManager.getString(this.textKey).toUpperCase():this.node.getComponent(cc.Label).string=a.LanguageManager.getString(this.textKey)),this.node.getComponent(cc.Label).string},r([h],e.prototype,"isUseCCFont",void 0),r([h({type:cc.Enum(a.LABEL_FONT_SIZE_CONFIG),visible:function(){return!this.isCustomFontSize}})],e.prototype,"fontSizeActive",void 0),r([h],e.prototype,"isCustomFontSize",void 0),r([h({multiline:!0,tooltip:"Enter i18n key here"})],e.prototype,"textKey",void 0),r([h],e.prototype,"upperCaseString",void 0),r([h],e.prototype,"notify",null),r([h({override:!0,tooltip:"Here shows the localized string of Text Key"})],e.prototype,"_localizedString",void 0),r([h],e.prototype,"localizedString",null),r([h({type:s.default,visible:function(){return this.isCustomFontSize}})],e.prototype,"lbFont",void 0),r([l,u(cc.Label)],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../manager/LanguageMgr":"LanguageMgr","./LabelFontSet":"LabelFontSet"}],LanguageMgr:[function(t,e,o){"use strict";cc._RF.push(e,"a433bj2bmxMqITUnVb0d4OZ","LanguageMgr"),Object.defineProperty(o,"__esModule",{value:!0}),o.LanguageManager=o.LABEL_FONT_SIZE_CONFIG=o.LANGUAGE=o.COUNTRY=void 0,o.COUNTRY={VIETNAM:"vn",THAILAND:"tl",ENGLAND:"en",INDO:"id",MALAYSIA:"my",MYANMAR:"mm",GOFA:"gofa",INTERNATIONAL:"international"},o.LANGUAGE={VIETNAMESE:"vn",ENGLISH:"en",MYANMAR:"mm",THAILAN:"tl",CAMBODIA:"cam"},function(t){t[t.TITLE_POPUP=0]="TITLE_POPUP",t[t.CONTENT_POPUP=1]="CONTENT_POPUP",t[t.BUTTON_POPUP=2]="BUTTON_POPUP",t[t.TITLE_MENU=3]="TITLE_MENU",t[t.CONTENT_MENU=4]="CONTENT_MENU",t[t.NORMAL=5]="NORMAL"}(o.LABEL_FONT_SIZE_CONFIG||(o.LABEL_FONT_SIZE_CONFIG={}));var n=t("polyglot"),i=t("en"),r=t("vn"),a=t("mm"),s=t("tl"),c=t("cam"),l=new n({phrases:i}),h=function(){function e(){}return e.init=function(){var t=e.getCurrentLanguage();l.replace(t)},e.getCurrentLanguage=function(){var t=null;switch(this.defaultLang){case o.LANGUAGE.ENGLISH:default:t=i;break;case o.LANGUAGE.VIETNAMESE:t=r;break;case o.LANGUAGE.CAMBODIA:t=c;break;case o.LANGUAGE.THAILAN:t=s;break;case o.LANGUAGE.MYANMAR:t=a}return t},e.getString=function(t,e){return void 0===e&&(e={}),l.t(t,e)},e.updateLocalization=function(e){var o=t(e);l.replace(o)},e.updateLang=function(t){switch(void 0===t&&(t=o.COUNTRY.ENGLAND),t){case o.COUNTRY.VIETNAM:e.defaultLang=o.LANGUAGE.VIETNAMESE;break;case o.COUNTRY.ENGLAND:e.defaultLang=o.LANGUAGE.ENGLISH;break;case o.COUNTRY.MYANMAR:e.defaultLang=o.LANGUAGE.MYANMAR;break;default:e.defaultLang=o.LANGUAGE.ENGLISH}cc.error(e.defaultLang),this.updateLocalization(e.defaultLang)},e.defaultLang=o.LANGUAGE.ENGLISH,e}();o.LanguageManager=h,cc._RF.pop()},{cam:"cam",en:"en",mm:"mm",polyglot:"polyglot",tl:"tl",vn:"vn"}],Lobby:[function(t,e,o){"use strict";cc._RF.push(e,"ce124Cs0WNDoqfGeP9lsfKE","Lobby");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../manager/GameCoreMgr"),s=t("../utils/SoundUtil"),c=t("./UICtrl"),l=cc._decorator,h=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.popup=null,e.btnyes=null,e.btnno=null,e.btnclose=null,e.isOpen=!1,e}return i(e,t),e.prototype.onLoad=function(){s.default.instance.playBGM(s.BGM.Lobby),this.popup.active=this.isOpen=!1,this.node.on(cc.Node.EventType.TOUCH_START,function(){cc.log("Lobby background event triggered."),s.default.instance.playSFX(s.SFX.Click),this.onClick()},this),this.btnclose.on(cc.Node.EventType.TOUCH_START,function(){s.default.instance.playSFX(s.SFX.Click),this.closePopup()},this),this.btnno.on(cc.Node.EventType.TOUCH_START,function(){s.default.instance.playSFX(s.SFX.Click),this.closePopup()},this),this.btnyes.on(cc.Node.EventType.TOUCH_START,function(){s.default.instance.playSFX(s.SFX.Click),this.closePopup(),a.default.instance.activateGamePlay(),c.default.instance.updateSashimi(-50)},this)},e.prototype.onStart=function(){s.default.instance.playBGM(s.BGM.Lobby)},e.prototype.onDestroy=function(){this.btnclose.off(cc.Node.EventType.TOUCH_START),this.btnno.off(cc.Node.EventType.TOUCH_START),this.btnyes.off(cc.Node.EventType.TOUCH_START)},e.prototype.onClick=function(){this.isOpen=!this.isOpen,this.isOpen?this.openPopup():this.closePopup()},e.prototype.openPopup=function(){this.popup.active=!0,this.popup.opacity=0,this.popup.runAction(cc.fadeIn(.25))},e.prototype.closePopup=function(){var t=this,e=cc.fadeOut(.25),o=cc.callFunc(function(){t.popup.active=!1,t.isOpen=!1}),n=cc.sequence(e,o);this.popup.runAction(n)},r([u(cc.Node)],e.prototype,"popup",void 0),r([u(cc.Node)],e.prototype,"btnyes",void 0),r([u(cc.Node)],e.prototype,"btnno",void 0),r([u(cc.Node)],e.prototype,"btnclose",void 0),r([h],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../manager/GameCoreMgr":"GameCoreMgr","../utils/SoundUtil":"SoundUtil","./UICtrl":"UICtrl"}],MinigameController:[function(t,e,o){"use strict";cc._RF.push(e,"0feaa/GDDBOt6CU6wyBIU/X","MinigameController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bar=null,e.greenZone=null,e.arrow=null,e.bg=null,e.arrowSpeed=100,e.direction=1,e.maxLives=1,e.lives=1,e.progress=0,e.hitsToWin=1,e.isRunning=!1,e.greenStartX=0,e.greenEndX=0,e}return i(e,t),e.prototype.startMiniGame=function(t,e){if(void 0===t&&(t=1),this.bg.on(cc.Node.EventType.TOUCH_START,this.onTouch,this),this.isRunning=!0,this.lives=this.maxLives,this.progress=0,e){var o=this.node.parent.convertToNodeSpaceAR(e);this.node.setPosition(o.x,o.y-80)}var n=this.bar.width,i=n/(3*t);this.greenZone.width=i,this.greenZone.x=0,this.greenStartX=this.greenZone.x-i/2,this.greenEndX=this.greenZone.x+i/2,this.arrow.x=-n/2,this.direction=1,this.arrowSpeed=300*t,cc.log("\ud83c\udfaf MiniGame started with difficulty:",t)},e.prototype.update=function(t){if(this.isRunning){var e=this.bar.width;this.arrow.x+=this.direction*this.arrowSpeed*t,this.arrow.x>e/2?(this.arrow.x=e/2,this.direction=-1):this.arrow.x<-e/2&&(this.arrow.x=-e/2,this.direction=1)}},e.prototype.onTouch=function(){if(this.isRunning){var t=this.arrow.x;t>=this.greenStartX&&t<=this.greenEndX?(this.progress++,cc.log("\u2705 Hit! Progress: "+this.progress+"/"+this.hitsToWin),this.node.emit("MiniGameProgress",this.progress/this.hitsToWin,this.lives/this.maxLives),this.progress>=this.hitsToWin&&this.win()):(this.lives--,cc.log("\u274c Miss! Lives: "+this.lives+"/"+this.maxLives),this.node.emit("MiniGameMiss",(this.maxLives-this.lives)/this.maxLives),this.lives<=0&&this.fail())}},e.prototype.win=function(){this.node.emit("MiniGameWin"),this.stop()},e.prototype.fail=function(){this.node.emit("MiniGameFail"),this.stop()},e.prototype.stop=function(){this.isRunning=!1,this.bg.off(cc.Node.EventType.TOUCH_START,this.onTouch,this),this.node.active=!1},r([c(cc.Node)],e.prototype,"bar",void 0),r([c(cc.Node)],e.prototype,"greenZone",void 0),r([c(cc.Node)],e.prototype,"arrow",void 0),r([c(cc.Node)],e.prototype,"bg",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],NodeShake:[function(t,e,o){"use strict";cc._RF.push(e,"79f6esY9/5OqZHuoikWU/oj","NodeShake");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,s=cc._decorator,c=s.ccclass,l=s.property,h=s.menu;(function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical",t[t.Both=2]="Both"})(a||(a={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.amplitude=10,e.frequency=20,e.duration=.6,e.decayRate=3,e.interval=3,e.direction=a.Horizontal,e.basePos=cc.v2(),e.elapsed=0,e.shaking=!1,e}return i(e,t),e.prototype.onLoad=function(){this.basePos=this.node.getPosition(),this.schedule(this.startShake,this.interval),this.startShake()},e.prototype.startShake=function(){this.elapsed=0,this.shaking=!0},e.prototype.update=function(t){if(this.shaking){if(this.elapsed+=t,this.elapsed>=this.duration)return this.shaking=!1,void this.node.setPosition(this.basePos);var e=Math.exp(-this.decayRate*this.elapsed),o=Math.sin(this.elapsed*this.frequency*Math.PI*2)*this.amplitude*e,n=0,i=0;switch(this.direction){case a.Horizontal:n=o;break;case a.Vertical:i=o;break;case a.Both:n=.8*o,i=Math.cos(this.elapsed*this.frequency*Math.PI*2)*this.amplitude*.8*e}this.node.setPosition(this.basePos.x+n,this.basePos.y+i)}},r([l({tooltip:"Bi\xean \u0111\u1ed9 rung ban \u0111\u1ea7u (px)"})],e.prototype,"amplitude",void 0),r([l({tooltip:"T\u1ea7n s\u1ed1 rung (Hz)"})],e.prototype,"frequency",void 0),r([l({tooltip:"Th\u1eddi gian rung m\u1ed7i l\u1ea7n (gi\xe2y)"})],e.prototype,"duration",void 0),r([l({tooltip:"T\u1ed1c \u0111\u1ed9 gi\u1ea3m bi\xean \u0111\u1ed9 (c\xe0ng cao c\xe0ng nhanh d\u1eebng)"})],e.prototype,"decayRate",void 0),r([l({tooltip:"T\u1ef1 rung l\u1ea1i sau m\u1ed7i bao nhi\xeau gi\xe2y"})],e.prototype,"interval",void 0),r([l({type:cc.Enum(a),tooltip:"H\u01b0\u1edbng rung"})],e.prototype,"direction",void 0),r([c,h("Effects/ButtonShakeAuto")],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],NodeZoom:[function(t,e,o){"use strict";cc._RF.push(e,"75b70/48utGKo+xhnhJSWox","NodeZoom");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scaleNum=1.1,e}return i(e,t),e.prototype.onLoad=function(){var t=cc.scaleTo(.5,this.scaleNum),e=cc.scaleTo(.5,1),o=cc.sequence(t,e);this.node.runAction(cc.repeatForever(o))},r([c({tooltip:"T\u0103ng s\u1ed1 scale l\xean"})],e.prototype,"scaleNum",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ObjectPool:[function(t,e,o){"use strict";cc._RF.push(e,"cbd0eBU4flJAYg4MjCq7GSU","ObjectPool"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t,e){void 0===e&&(e=""),this.prefab=null,this.pool=[],this.poolName="",this.prefab=t,this.poolName=e||t.name}return t.prototype.get=function(){var t;return(t=this.pool.length>0?this.pool.pop():cc.instantiate(this.prefab)).active=!0,t},t.prototype.put=function(t){t&&t.isValid&&(t.stopAllActions(),t.active=!1,t.removeFromParent(),this.pool.push(t))},t.prototype.putAll=function(t){var e=this;t.forEach(function(t){return e.put(t)})},t.prototype.clear=function(){this.pool.forEach(function(t){t&&t.isValid&&t.destroy()}),this.pool=[]},t.prototype.size=function(){return this.pool.length},t.prototype.preload=function(t){for(var e=0;e<t;e++){var o=cc.instantiate(this.prefab);o.active=!1,this.pool.push(o)}},t.prototype.getName=function(){return this.poolName},t.prototype.isEmpty=function(){return 0===this.pool.length},t}();o.default=n,cc._RF.pop()},{}],PoolMgr:[function(t,e,o){"use strict";cc._RF.push(e,"1d1a54j7/xBmp1qVjaMi3sh","PoolMgr");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PoolManager=void 0;var i=t("../modules/ObjectPool"),r=cc._decorator,a=r.ccclass,s=(r.property,function(){function t(){}return t.createPool=function(t,e){if(!this.pools.has(t)){var o=new i.default(e,t);this.pools.set(t,o)}return this.pools.get(t)},t.getPool=function(t){return this.pools.get(t)||null},t.hasPool=function(t){return this.pools.has(t)},t.removePool=function(t){var e=this.pools.get(t);e&&(e.clear(),this.pools.delete(t))},t.clearAll=function(){this.pools.forEach(function(t){return t.clear()}),this.pools.clear()},t.getPoolCount=function(){return this.pools.size},t.getPoolNames=function(){return Array.from(this.pools.keys())},t.pools=new Map,n([a],t)}());o.PoolManager=s,cc._RF.pop()},{"../modules/ObjectPool":void 0}],PopUp:[function(t,e,o){"use strict";cc._RF.push(e,"c167eUpERhE1q1kyS6GK9jP","PopUp");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../utils/SoundUtil"),s=t("../UICtrl"),c=t("./FishCtrl"),l=cc._decorator,h=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fishName=null,e.fishLength=null,e.sellPrice=null,e.closeBtn=null,e.sellBtn=null,e.raritySpr=null,e.listSprite=[],e.listFishSpr=[],e.fishSpr=null,e.isOpen=!1,e}return i(e,t),e.prototype.onLoad=function(){this.closeBtn.on(cc.Node.EventType.TOUCH_END,this.onClose,this),this.sellBtn.on(cc.Node.EventType.TOUCH_END,this.onSell,this)},e.prototype.onDestroy=function(){this.closeBtn.off(cc.Node.EventType.TOUCH_END,this.onClose,this),this.sellBtn.off(cc.Node.EventType.TOUCH_END,this.onSell,this)},e.prototype.setFishInfo=function(t,e,o,n,i){switch(void 0===n&&(n=c.FishRarity.Common),void 0===i&&(i=1),this.fishName.string=t,this.fishLength.string=e.toFixed(2)+" CM",this.sellPrice.string="x"+o.toFixed(),n){case c.FishRarity.Common:this.raritySpr.spriteFrame=this.listSprite[0];break;case c.FishRarity.Uncommon:this.raritySpr.spriteFrame=this.listSprite[1];break;case c.FishRarity.Rare:this.raritySpr.spriteFrame=this.listSprite[2];break;case c.FishRarity.Epic:this.raritySpr.spriteFrame=this.listSprite[3];break;case c.FishRarity.Legend:this.raritySpr.spriteFrame=this.listSprite[4]}this.fishSpr.spriteFrame=this.listFishSpr[i-1]},e.prototype.onClose=function(){a.default.instance.playSFX(a.SFX.Click),this.closePopup()},e.prototype.onSell=function(){cc.log("\ud83d\udcb0 Fish sold!"),a.default.instance.playSFX(a.SFX.Sell),s.default.instance.updateCoin(parseFloat(this.sellPrice.string.slice(1))),this.closePopup()},e.prototype.onClick=function(){this.isOpen=!this.isOpen,this.isOpen?this.openPopup():this.closePopup()},e.prototype.openPopup=function(){this.isOpen=!0,this.node.active=!0,this.node.opacity=0,this.node.runAction(cc.fadeIn(.25))},e.prototype.closePopup=function(){var t=this,e=cc.fadeOut(.25),o=cc.callFunc(function(){t.node.active=!1,t.isOpen=!1}),n=cc.sequence(e,o);this.node.runAction(n)},r([u(cc.Label)],e.prototype,"fishName",void 0),r([u(cc.Label)],e.prototype,"fishLength",void 0),r([u(cc.Label)],e.prototype,"sellPrice",void 0),r([u(cc.Node)],e.prototype,"closeBtn",void 0),r([u(cc.Node)],e.prototype,"sellBtn",void 0),r([u(cc.Sprite)],e.prototype,"raritySpr",void 0),r([u(cc.SpriteFrame)],e.prototype,"listSprite",void 0),r([u(cc.SpriteFrame)],e.prototype,"listFishSpr",void 0),r([u(cc.Sprite)],e.prototype,"fishSpr",void 0),r([h],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../utils/SoundUtil":"SoundUtil","../UICtrl":"UICtrl","./FishCtrl":"FishCtrl"}],PrefabLocalized:[function(t,e,o){"use strict";cc._RF.push(e,"b393bG9J7BDVY/1J8g7Umah","PrefabLocalized");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=t("../manager/LanguageMgr"),h=t("./PrefabSet"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabConfigs=[],e}return i(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){this.updateLanguage()},e.prototype.mapIndexLanguage=function(){for(var t={},e=0;e<this.prefabConfigs.length;e++)t[this.prefabConfigs[e].language]=e;return t},e.prototype.updateLanguage=function(){var t=l.LanguageManager.getCurrentLanguage();this.node.removeAllChildren();var e=cc.instantiate(this.prefabConfigs[{vn:0,en:1,mm:2,tl:3,cam:4}[t]].prefLanguage);this.node.addChild(e)},r([c({type:[h.default],visible:function(){return!0}})],e.prototype,"prefabConfigs",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../manager/LanguageMgr":"LanguageMgr","./PrefabSet":"PrefabSet"}],PrefabSet:[function(t,e,o){"use strict";cc._RF.push(e,"a3c51agw0VDjqajS5mBAskC","PrefabSet");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../manager/LanguageMgr"),r=cc._decorator,a=r.ccclass,s=r.property,c=cc.Enum({VN:0,EN:1,MM:2,TL:3,CAM:4}),l=function(){function t(){this.language=c.VN,this.prefLanguage=null}return t.prototype.setLang=function(t){this.language=t},t.prototype.getLang=function(){return this.language==c.VN?i.LANGUAGE.VIETNAMESE:this.language==c.EN?i.LANGUAGE.ENGLISH:this.language==c.MM?i.LANGUAGE.MYANMAR:this.language==c.TL?i.LANGUAGE.THAILAN:this.language==c.CAM?i.LANGUAGE.CAMBODIA:void 0},n([s({type:c})],t.prototype,"language",void 0),n([s(cc.Prefab)],t.prototype,"prefLanguage",void 0),n([a("PrefabSet")],t)}();o.default=l,cc._RF.pop()},{"../manager/LanguageMgr":"LanguageMgr"}],Receive:[function(t,e,o){"use strict";cc._RF.push(e,"df6eb52mGVKkoWEvP0KGfqK","Receive"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator;n.ccclass,n.property,cc._RF.pop()},{}],RopeRenderer:[function(t,e,o){"use strict";cc._RF.push(e,"45f44/BpppDFbNG7DOsFVoN","RopeRenderer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rod=null,e.hook=null,e.segmentCount=20,e.sagFactor=.15,e.lerpSpeed=8,e.swayAmplitude=10,e.swayDecay=2,e.isFlying=!1,e.gfx=null,e.prevHookPos=cc.v2(),e.currentPoints=[],e.swayTime=0,e.isHookMoving=!0,e}return i(e,t),e.prototype.setFlyingState=function(t){this.isFlying=t},e.prototype.onLoad=function(){this.gfx=this.getComponent(cc.Graphics),this.prevHookPos=this.hook.getPosition().clone();for(var t=0;t<=this.segmentCount;t++)this.currentPoints.push(this.prevHookPos.clone())},e.prototype.update=function(t){if(this.gfx&&this.rod&&this.hook){var e=this.rod.getAnchorPoint(),o=cc.v2(this.rod.width*(1-e.x),this.rod.height*(1-e.y)),n=this.rod.convertToWorldSpaceAR(o),i=this.node.convertToNodeSpaceAR(n),r=this.hook.convertToWorldSpaceAR(cc.v2(0,0)),a=this.node.convertToNodeSpaceAR(r),s=a.sub(this.prevHookPos);this.prevHookPos=a.clone();var c=s.y>0;this.isHookMoving=s.mag()>.1,this.isHookMoving?this.swayTime=0:this.swayTime+=t;for(var l=a.sub(i),h=c?.25:1,u=l.mag()*this.sagFactor*h,p=[],d=0;d<=this.segmentCount;d++){var f=d/this.segmentCount,g=i.add(l.mul(f)),y=Math.sin(Math.PI*f),_=0;if(_=this.isFlying?.9*u*y:1.3*-u*y,c&&(_*=.4),a.y<i.y){var v=Math.abs(a.y-i.y);_*=1-.4*cc.misc.clamp01(v/800)}var m=g.add(cc.v2(0,_));p.push(m)}for(this.currentPoints[0]=i.clone(),d=1;d<this.segmentCount;d++){f=d/this.segmentCount;var b=t*this.lerpSpeed*(.5+.5*f)*(1+2*s.mag());this.currentPoints[d]=this.currentPoints[d].lerp(p[d],Math.min(b,1))}for(this.currentPoints[this.segmentCount]=a.clone(),this.gfx.clear(),this.gfx.lineWidth=4,this.gfx.strokeColor=cc.Color.BLACK,this.gfx.moveTo(this.currentPoints[0].x,this.currentPoints[0].y),d=1;d<=this.segmentCount;d++)this.gfx.lineTo(this.currentPoints[d].x,this.currentPoints[d].y);this.gfx.stroke()}},r([c(cc.Node)],e.prototype,"rod",void 0),r([c(cc.Node)],e.prototype,"hook",void 0),r([c],e.prototype,"segmentCount",void 0),r([c],e.prototype,"sagFactor",void 0),r([c],e.prototype,"lerpSpeed",void 0),r([c],e.prototype,"swayAmplitude",void 0),r([c],e.prototype,"swayDecay",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ScreenMgr:[function(t,e,o){"use strict";cc._RF.push(e,"e9e8doTx59GZLNXysh/S04B","ScreenMgr");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{c(n.next(t))}catch(e){r(e)}}function s(t){try{c(n.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,s)}c((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.ITEM=o.POPUP=o.PAGE=void 0;var r=t("./DataMgr"),a=t("./EventMgr"),s=t("./UIMgr");o.PAGE={CUSTOMIZATION:"Customization",GAMEPLAY:"GamePlay",HOME:"Home",MODE:"Mode",RANKING:"Ranking",SHOP:"Shop",EVENT:"Event",SEASONPASS:"SeasonPass",LOBBY:"Lobby"},o.POPUP={PLAYERDETAIL:"PlayerDetail"},o.ITEM={RANKINGITEM:"RankingItem"};var c=function(){function t(){}return t.openPage=function(t,e,o){var r;return void 0===e&&(e=s.UITransition.NONE),n(this,void 0,void 0,function(){var n,c,l,h,u;return i(this,function(i){switch(i.label){case 0:return n=s.default.instance,(c=n.getUIStack()).length>0?(l=c[c.length-1])!==t?[3,1]:(h=n.getUI(t))?(u=n.getLayer(s.UILayer.PAGE),h.removeFromParent(!1),u.addChild(h),null===(r=n._playTransition)||void 0===r||r.call(n,h,e),o&&o(h),a.EventMgr.instance.emit("UI_BringToFront",{prefabPath:t,node:h}),[2]):[3,3]:[3,3];case 1:return[4,n.deactivateUI(l,e)];case 2:i.sent(),i.label=3;case 3:return n.openUI(t,s.UIPrefabType.PAGE,e,function(e){a.EventMgr.instance.emit("UI_OpenPage",{prefabPath:t,node:e}),o&&o(e)}),[2]}})})},t.backPage=function(t){void 0===t&&(t=s.UITransition.NONE),s.default.instance.back(t),a.EventMgr.instance.emit("UI_BackPage",void 0)},t.closePage=function(t){void 0===t&&(t=s.UITransition.NONE);var e=s.default.instance,o=e.getUIStack();if(0!==o.length){var n=o[o.length-1];e.closeCurrent(t),a.EventMgr.instance.emit("UI_ClosePage",{prefabPath:n})}},t.openPopup=function(t,e,o){void 0===e&&(e=s.UITransition.POPUP_SCALE),s.default.instance.openUI(t,s.UIPrefabType.POPUP,e,function(e){a.EventMgr.instance.emit("UI_OpenPopup",{prefabPath:t,node:e}),o&&o(e)})},t.closePopup=function(t,e){void 0===e&&(e=s.UITransition.POPUP_SCALE),s.default.instance.closeUI(t,e),a.EventMgr.instance.emit("UI_ClosePopup",{prefabPath:t})},t.closeAllPopups=function(t){var e;void 0===t&&(t=s.UITransition.POPUP_SCALE);var o=s.default.instance,n=o.getLayer(s.UILayer.POPUP);null===(e=o._uiMap)||void 0===e||e.forEach(function(e,i){e.parent===n&&(o.closeUI(i,t),a.EventMgr.instance.emit("UI_ClosePopup",{prefabPath:i}))})},t.isOpen=function(t){return s.default.instance.isOpen(t)},t.backHome=function(){this.openPage(r.DataManager.instance.getPrefabPath(o.PAGE.HOME),s.UITransition.FADE)},t}();o.default=c,cc._RF.pop()},{"./DataMgr":"DataMgr","./EventMgr":"EventMgr","./UIMgr":"UIMgr"}],Send:[function(t,e,o){"use strict";cc._RF.push(e,"cdf79c9gYJNRYrTla+QOR43","Send");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Send=void 0;var i=cc._decorator,r=i.ccclass,a=(i.property,function(){function t(){}return n([r],t)}());o.Send=a,cc._RF.pop()},{}],SoundUtil:[function(t,e,o){"use strict";cc._RF.push(e,"4cdf8yI94FKFZukJ02XLER6","SoundUtil");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{c(n.next(t))}catch(e){r(e)}}function s(t){try{c(n.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,s)}c((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.BGM=o.SFX=void 0;var c=t("../manager/DataMgr"),l=cc._decorator,h=l.ccclass;l.property,o.SFX={LaunchHook:"LaunchHook",HookTouchWater:"HookTouchWater",FishBite:"FishBite",PullLine:"PullLine",LineSnap:"LineSnap",Click:"Click",FishFlounder:"FishFlounder",SmallWave:"SmallWave",BigWave:"BigWave",RoaringWind:"RoaringWind",Whale:"Whale",Rain:"Rain",Thunder:"Thunder",Warning:"Warning",Success1:"Success1",Success2:"Success2",Sell:"Sell"},o.BGM={SunshineBeach:"SunshineBeach",AtlantisOcean:"AtlantisOcean",Lobby:"Lobby"};var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listSFX={},e.listBGM={},e._currentBGM=null,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){return a(this,void 0,void 0,function(){return s(this,function(){return o.instance=this,[2]})})},e.prototype.playBGM=function(t){return a(this,void 0,Promise,function(){var e,o=this;return s(this,function(n){switch(n.label){case 0:return(e=this.listBGM[t])?[3,2]:[4,c.DataManager.instance.getClip(t).then(function(n){n?e=o.listBGM[t]=n:cc.warn("[SoundUtil] BGM not found: "+t)})];case 1:n.sent(),n.label=2;case 2:return this._currentBGM&&cc.audioEngine.stopMusic(),this._currentBGM=t,cc.audioEngine.playMusic(e,!0),[2]}})})},e.prototype.playSFX=function(t,e,o,n){return void 0===e&&(e=!1),void 0===o&&(o=1),void 0===n&&(n=0),a(this,void 0,Promise,function(){var i,r,a=this;return s(this,function(s){switch(s.label){case 0:return(i=this.listSFX[t])?[3,2]:[4,c.DataManager.instance.getClip(t).then(function(e){e?i=a.listSFX[t]=e:cc.warn("[SoundUtil] BGM not found: "+t)})];case 1:s.sent(),s.label=2;case 2:return r=cc.audioEngine.playEffect(i,e),cc.audioEngine.setVolume(r,o),cc.audioEngine.setCurrentTime(r,n),[2]}})})},e.instance=null,o=r([h],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../manager/DataMgr":"DataMgr"}],SpineAnimationSet:[function(t,e,o){"use strict";cc._RF.push(e,"56bbdf7cCJAGqszWrJva9rh","SpineAnimationSet");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../manager/LanguageMgr"),r=cc._decorator,a=r.ccclass,s=r.property,c=cc.Enum({VN:0,EN:1,MM:2}),l=function(){function t(){this.language=c.VN,this.skeletonData=null}return t.prototype.setLang=function(t){this.language=t},t.prototype.getLang=function(){return this.language==c.VN?i.LANGUAGE.VIETNAMESE:this.language==c.EN?i.LANGUAGE.ENGLISH:this.language==c.MM?i.LANGUAGE.MYANMAR:void 0},n([s({type:c})],t.prototype,"language",void 0),n([s(sp.SkeletonData)],t.prototype,"skeletonData",void 0),n([a("SpineAnimationSet")],t)}();o.default=l,cc._RF.pop()},{"../manager/LanguageMgr":"LanguageMgr"}],SpineLocalized:[function(t,e,o){"use strict";cc._RF.push(e,"a1db0O/7NpCZoiFCtjY05wg","SpineLocalized");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../manager/LanguageMgr"),s=t("./SpineAnimationSet"),c=cc._decorator,l=c.ccclass,h=c.property,u=c.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isRunNew=!1,e.isLoop=!0,e.spineConfigs=e.loadLang(),e}return i(e,t),e.prototype.loadLang=function(){for(var t=[],e=0;e<Object.keys(a.LANGUAGE).length;e++){var o=new s.default;o.setLang(e),t.push(o)}return t},r([h(cc.Boolean)],e.prototype,"isRunNew",void 0),r([h(cc.Boolean)],e.prototype,"isLoop",void 0),r([h({type:[s.default],visible:function(){return!this.isRunNew}})],e.prototype,"spineConfigs",void 0),r([l,u("BGUI/Multi Language/Spine")],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../manager/LanguageMgr":"LanguageMgr","./SpineAnimationSet":"SpineAnimationSet"}],SpriteFrameSet:[function(t,e,o){"use strict";cc._RF.push(e,"f2e59J/03NPSZUyVWWoJOuu","SpriteFrameSet");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../manager/LanguageMgr"),r=cc._decorator,a=r.ccclass,s=r.property,c=cc.Enum({VN:0,EN:1,MM:2,TL:3,CAM:4}),l=function(){function t(){this.language=c.VN,this.spriteFrame=null}return t.prototype.setLang=function(t){this.language=t},t.prototype.getLang=function(){return this.language==c.VN?i.LANGUAGE.VIETNAMESE:this.language==c.EN?i.LANGUAGE.ENGLISH:this.language==c.MM?i.LANGUAGE.MYANMAR:this.language==c.TL?i.LANGUAGE.THAILAN:this.language==c.CAM?i.LANGUAGE.CAMBODIA:void 0},n([s({type:c})],t.prototype,"language",void 0),n([s(cc.SpriteFrame)],t.prototype,"spriteFrame",void 0),n([a("SpriteFrameSet")],t)}();o.default=l,cc._RF.pop()},{"../manager/LanguageMgr":"LanguageMgr"}],SpriteLocalized:[function(t,e,o){"use strict";cc._RF.push(e,"5289fxom5JMMZ9tY6WsMujG","SpriteLocalized");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../manager/LanguageMgr"),s=t("./SpriteFrameSet"),c=cc._decorator,l=c.ccclass,h=c.property,u=c.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteConfigs=e.loadLang(),e}return i(e,t),e.prototype.loadLang=function(){for(var t=[],e=0;e<Object.keys(a.LANGUAGE).length;e++){var o=new s.default;o.setLang(e),t.push(o)}return t},r([h([s.default])],e.prototype,"spriteConfigs",void 0),r([l,u("BGUI/Multi Language/Sprite")],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../manager/LanguageMgr":"LanguageMgr","./SpriteFrameSet":"SpriteFrameSet"}],Table:[function(t,e,o){"use strict";cc._RF.push(e,"44326umwaFGmq27skyS4nde","Table");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.TableView=o.ViewType=o.LayoutMode=o.ScrollDirection=void 0;var a,s,c,l=t("../manager/ObjectPool"),h=t("./Cell"),u=cc._decorator,p=u.ccclass,d=u.property;(function(t){t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t[t.LEFT=3]="LEFT",t[t.RIGHT=4]="RIGHT"})(a=o.ScrollDirection||(o.ScrollDirection={})),function(t){t[t.VERTICAL=0]="VERTICAL",t[t.HORIZONTAL=1]="HORIZONTAL",t[t.VERTICAL_GRID=2]="VERTICAL_GRID",t[t.HORIZONTAL_GRID=3]="HORIZONTAL_GRID"}(s=o.LayoutMode||(o.LayoutMode={})),function(t){t[t.SCROLL=0]="SCROLL",t[t.PAGE=1]="PAGE"}(c=o.ViewType||(o.ViewType={}));var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellPrefab=null,e.layoutMode=s.VERTICAL,e.viewType=c.SCROLL,e.isFill=!1,e.columnsCount=1,e.rowsCount=1,e.paddingLeft=0,e.paddingRight=0,e.paddingTop=0,e.paddingBottom=0,e.spacingX=0,e.spacingY=0,e.enableCellDrag=!1,e.onCellClicked=null,e.onCellLongClicked=null,e.onCellDragging=null,e.onCellDragEnd=null,e.onPageChanged=null,e.dataSource=[],e.cellPool=null,e.cellSize=new cc.Size(0,0),e.groupCellCount=1,e.minCellIndex=0,e.maxCellIndex=0,e.totalCellCount=0,e.visibleCellCount=0,e.showCellCount=0,e.scrollDirection=a.NONE,e.lastOffset=new cc.Vec2(0,0),e.currentPage=1,e.totalPages=2,e.tempView=null,e.lastContentPos=cc.Vec2.ZERO,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){try{t.prototype.onLoad.call(this)}catch(e){console.warn("TableView: super.onLoad() failed, will initialize later")}},e.prototype.start=function(){this._lateInit()},e.prototype._lateInit=function(){this.content?this.content&&this.content.parent&&(this.tempView=this.content.parent,this.layoutMode===s.VERTICAL||this.layoutMode===s.VERTICAL_GRID?(this.vertical=!0,this.horizontal=!1,this.horizontalScrollBar=null):(this.horizontal=!0,this.vertical=!1,this.verticalScrollBar=null),this.viewType===c.PAGE&&(this.inertia=!1)):console.error("TableView: content node is not set")},e.prototype.initTableView=function(t,e,n){var i=this;if(void 0===e&&(e=null),!this.tempView&&this.content&&this.content.parent&&(this.tempView=this.content.parent),this.tempView){this.dataSource=e||[];var r=this.getCellPoolName();o.cellPoolCache[r]||(o.cellPoolCache[r]=new l.default(this.cellPrefab,"TableViewCell")),this.cellPool=o.cellPoolCache[r],this.calculateLayout(t,function(){i.createInitialCells(function(){i.registerScrollEvent(),n&&n()})})}else console.error("TableView: tempView is not initialized. Make sure content and its parent are set up properly.")},e.prototype.getCellPoolName=function(){return this.layoutMode===s.HORIZONTAL||this.layoutMode===s.HORIZONTAL_GRID?this.cellPrefab.name+"_h_"+this.content.height:this.cellPrefab.name+"_v_"+this.content.width},e.prototype.calculateLayout=function(t,e){var o=this;this.getCellSize(function(n){o.cellSize=n,cc.error("Cell size: "+n.width+" x "+n.height),o.groupCellCount=o.getGroupCellCount(),o.totalCellCount=Math.ceil(t/o.groupCellCount),o.layoutMode===s.HORIZONTAL||o.layoutMode===s.HORIZONTAL_GRID?o.calculateHorizontalLayout():o.calculateVerticalLayout(),o.lastOffset=o.getScrollOffset();var i=o.content.position.clone();o.lastContentPos=new cc.Vec2(i.x,i.y),o.minCellIndex=0,o.maxCellIndex=o.visibleCellCount-1,e()})},e.prototype.calculateVerticalLayout=function(){if(this.tempView){var t=this.tempView.height;if(this.cellSize.height<=0)console.error("Cell height is 0 or negative! Cannot calculate layout");else{var e=this.cellSize.height+this.spacingY,o=t-this.paddingTop-this.paddingBottom;this.layoutMode,s.VERTICAL_GRID,this.visibleCellCount=Math.ceil(o/e)+1,this.viewType===c.PAGE?this.visibleCellCount>this.totalCellCount?(this.visibleCellCount=this.isFill?Math.floor(o/e):this.totalCellCount,this.showCellCount=this.visibleCellCount,this.totalPages=1):(this.totalPages=Math.ceil(this.totalCellCount/(this.visibleCellCount-1)),this.totalCellCount=this.totalPages*(this.visibleCellCount-1),this.showCellCount=this.visibleCellCount-1):this.visibleCellCount>this.totalCellCount?(this.visibleCellCount=this.isFill?Math.floor(o/e):this.totalCellCount,this.showCellCount=this.visibleCellCount):this.showCellCount=this.visibleCellCount-1,this.content.height=this.totalCellCount*this.cellSize.height+Math.max(0,this.totalCellCount-1)*this.spacingY+this.paddingTop+this.paddingBottom,this.stopAutoScroll(),this.scrollToTop(0),this.lastOffset=this.getScrollOffset();var n=this.content.position.clone();this.lastContentPos=new cc.Vec2(n.x,n.y),this.minCellIndex=0,this.maxCellIndex=this.visibleCellCount-1}}else console.error("TableView: tempView is null in calculateVerticalLayout")},e.prototype.calculateHorizontalLayout=function(){if(this.tempView){var t=this.tempView.width;if(this.cellSize.width<=0)console.error("Cell width is 0 or negative! Cannot calculate layout");else{var e=this.cellSize.width+this.spacingX,o=t-this.paddingLeft-this.paddingRight;this.layoutMode,s.HORIZONTAL_GRID,this.visibleCellCount=Math.ceil(o/e)+1,this.viewType===c.PAGE?this.visibleCellCount>this.totalCellCount?(this.visibleCellCount=this.isFill?Math.floor(o/e):this.totalCellCount,this.showCellCount=this.visibleCellCount,this.totalPages=1):(this.totalPages=Math.ceil(this.totalCellCount/(this.visibleCellCount-1)),this.totalCellCount=this.totalPages*(this.visibleCellCount-1),this.showCellCount=this.visibleCellCount-1):this.visibleCellCount>this.totalCellCount?(this.visibleCellCount=this.isFill?Math.floor(o/e):this.totalCellCount,this.showCellCount=this.visibleCellCount):this.showCellCount=this.visibleCellCount-1,this.content.width=this.totalCellCount*this.cellSize.width+Math.max(0,this.totalCellCount-1)*this.spacingX+this.paddingLeft+this.paddingRight,this.stopAutoScroll(),this.scrollToLeft(0),this.lastOffset=this.getScrollOffset();var n=this.content.position.clone();this.lastContentPos=new cc.Vec2(n.x,n.y),this.minCellIndex=0,this.maxCellIndex=this.visibleCellCount-1}}else console.error("TableView: tempView is null in calculateHorizontalLayout")},e.prototype.getCellSize=function(t){var e=this;this.getCell(function(o){var n=o.getContentSize();e.layoutMode===s.VERTICAL_GRID?n.width=e.content.width-e.paddingLeft-e.paddingRight:e.layoutMode===s.HORIZONTAL_GRID&&(n.height=e.content.height-e.paddingTop-e.paddingBottom),e.cellPool.put(o),t(n)})},e.prototype.getGroupCellCount=function(){return this.layoutMode===s.VERTICAL_GRID?this.columnsCount:this.layoutMode===s.HORIZONTAL_GRID?this.rowsCount:1},e.prototype.getCell=function(t){var e=this;if(0===this.cellPool.size())this.createCellNode(function(o){e.cellPool.put(o),t(e.cellPool.get())});else{var o=this.cellPool.get();t(o)}},e.prototype.createCellNode=function(t){var e=this;if(this.layoutMode===s.VERTICAL_GRID){var o=new cc.Node("GridRow");o.setAnchorPoint(.5,.5);for(var n=0,i=0,r=0,a=function(a){var s=cc.instantiate(e.cellPrefab);s.setAnchorPoint(.5,.5),o.addChild(s);var c=a*(s.width+e.spacingX)-(e.columnsCount-1)*(s.width+e.spacingX)/2;s.setPosition(c,0,0),n=Math.max(n,e.columnsCount*s.width+(e.columnsCount-1)*e.spacingX),i=Math.max(i,s.height),++r>=e.columnsCount&&(o.setContentSize(n,i),t(o))},c=0;c<this.columnsCount;c++)a(c)}else if(this.layoutMode===s.HORIZONTAL_GRID){var l=new cc.Node("GridColumn");l.setAnchorPoint(.5,.5);var h=0,u=0,p=0,d=function(o){var n=cc.instantiate(e.cellPrefab);n.setAnchorPoint(.5,.5),l.addChild(n);var i=(e.rowsCount-1)*(n.height+e.spacingY)/2-o*(n.height+e.spacingY);n.setPosition(0,i,0),h=Math.max(h,n.width),u=Math.max(u,e.rowsCount*n.height+(e.rowsCount-1)*e.spacingY),++p>=e.rowsCount&&(l.setContentSize(h,u),t(l))};for(c=0;c<this.rowsCount;c++)d(c)}else if(this.layoutMode===s.HORIZONTAL)(f=cc.instantiate(this.cellPrefab)).setAnchorPoint(.5,.5),this.setupHorizontalListCell(f,t);else{var f;(f=cc.instantiate(this.cellPrefab)).setAnchorPoint(.5,.5),this.setupVerticalListCell(f,t)}},e.prototype.setupVerticalListCell=function(t,e){t.width=this.content.width-this.paddingLeft-this.paddingRight,e(t)},e.prototype.setupHorizontalListCell=function(t,e){t.height=this.content.height-this.paddingTop-this.paddingBottom,e(t)},e.prototype.createInitialCells=function(t){var e=this,o=0,n=function(){o<=e.maxCellIndex?e.addCell(o,function(){o++,n()}):t()};n()},e.prototype.addCell=function(t,e){var o=this;this.getCell(function(n){o.setCellAttributes(n,t),o.setCellPosition(n,t),n.parent=o.content,o.initCell(n,!1,e)})},e.prototype.setCellAttributes=function(t,e){t.setSiblingIndex(e),t._cellIndex=e},e.prototype.setCellPosition=function(t,e){var o;this.layoutMode===s.HORIZONTAL||this.layoutMode===s.HORIZONTAL_GRID?0===e?t.setPosition(-this.content.width*this.content.anchorX+t.width*t.anchorX+this.paddingLeft,(t.anchorY-this.content.anchorY)*t.height-this.paddingTop,0):(o=this.getCellByIndex(e-1))&&t.setPosition(o.position.x+t.width+this.spacingX,(t.anchorY-this.content.anchorY)*t.height-this.paddingTop,0):0===e?t.setPosition((t.anchorX-this.content.anchorX)*t.width+this.paddingLeft,this.content.height*(1-this.content.anchorY)-t.height*(1-t.anchorY)-this.paddingTop,0):(o=this.getCellByIndex(e-1))&&t.setPosition((t.anchorX-this.content.anchorX)*t.width+this.paddingLeft,o.position.y-t.height-this.spacingY,0)},e.prototype.initCell=function(t,e,o){var n=t._cellIndex,i=n*this.groupCellCount;if(this.layoutMode===s.VERTICAL_GRID||this.layoutMode===s.HORIZONTAL_GRID)for(var r=0;r<t.children.length;r++){var a=t.children[r].getComponent(h.TableViewCell);if(a)if(a._cellInit_(this),(l=i+r)<this.dataSource.length){var c=this.dataSource[l];a.updateCell(l,c,e,[n,r]),a.node.active=!0}else a.node.active=!1}else{var l,u=t.getComponent(h.TableViewCell);u?(u._cellInit_(this),(l=i)<this.dataSource.length?(c=this.dataSource[l],u.updateCell(l,c,e,[n,0]),u.node.active=!0):u.node.active=!1):console.error("TableViewCell component not found on cell "+n+"!",t)}o&&o()},e.prototype.getCellByIndex=function(t){for(var e=0,o=this.content.children;e<o.length;e++){var n=o[e];if(n._cellIndex===t)return n}return null},e.prototype.registerScrollEvent=function(){},e.prototype.update=function(e){t.prototype.update.call(this,e),this.visibleCellCount!==this.showCellCount&&1!==this.totalPages&&(this.updateScrollDirection(),this.updateVisibleCells())},e.prototype.updateScrollDirection=function(){var t=this.content.position.clone(),e=new cc.Vec2(t.x-this.lastContentPos.x,t.y-this.lastContentPos.y);this.lastContentPos=new cc.Vec2(t.x,t.y),this.layoutMode===s.HORIZONTAL||this.layoutMode===s.HORIZONTAL_GRID?e.x<-.1?this.scrollDirection=a.RIGHT:e.x>.1?this.scrollDirection=a.LEFT:this.scrollDirection=a.NONE:e.y<-.1?this.scrollDirection=a.DOWN:e.y>.1?this.scrollDirection=a.UP:this.scrollDirection=a.NONE},e.prototype.updateVisibleCells=function(){var t=this.getBoundingBoxToWorld(this.tempView);this.layoutMode===s.HORIZONTAL||this.layoutMode===s.HORIZONTAL_GRID?this.updateHorizontalCells(t):this.updateVerticalCells(t)},e.prototype.updateHorizontalCells=function(t){if(this.scrollDirection===a.RIGHT)for(;this.maxCellIndex<this.totalCellCount-1&&(o=this.getCellByIndex(this.minCellIndex))&&!(this.getBoundingBoxToWorld(o).xMax>t.xMin);){var e=this.getCellByIndex(this.maxCellIndex);o.setPosition(e.position.x+o.width+this.spacingX,o.position.y,0),this.minCellIndex++,this.maxCellIndex++,this.setCellAttributes(o,this.maxCellIndex),this.initCell(o,!1)}else if(this.scrollDirection===a.LEFT&&this.minCellIndex>0)for(;this.minCellIndex>0&&(e=this.getCellByIndex(this.maxCellIndex))&&!(this.getBoundingBoxToWorld(e).xMin<t.xMax);){var o=this.getCellByIndex(this.minCellIndex);e.setPosition(o.position.x-o.width-this.spacingX,e.position.y,0),this.minCellIndex--,this.maxCellIndex--,this.setCellAttributes(e,this.minCellIndex),this.initCell(e,!1)}},e.prototype.updateVerticalCells=function(t){if(this.scrollDirection===a.UP)for(;this.maxCellIndex<this.totalCellCount-1&&(o=this.getCellByIndex(this.minCellIndex))&&!(this.getBoundingBoxToWorld(o).yMin<t.yMax);){var e=this.getCellByIndex(this.maxCellIndex);o.setPosition(o.position.x,e.position.y-o.height-this.spacingY,0),this.minCellIndex++,this.maxCellIndex++,this.setCellAttributes(o,this.maxCellIndex),this.initCell(o,!0)}else if(this.scrollDirection===a.DOWN&&this.minCellIndex>0)for(;this.minCellIndex>0&&(e=this.getCellByIndex(this.maxCellIndex))&&!(this.getBoundingBoxToWorld(e).yMax>t.yMin);){var o=this.getCellByIndex(this.minCellIndex);e.setPosition(e.position.x,o.position.y+o.height+this.spacingY,0),this.minCellIndex--,this.maxCellIndex--,this.setCellAttributes(e,this.minCellIndex),this.initCell(e,!0)}},e.prototype.getBoundingBoxToWorld=function(t){var e=t.convertToWorldSpaceAR(new cc.Vec2(-t.width/2,-t.height/2));return new cc.Rect(e.x,e.y,t.width,t.height)},e.prototype.getCellIndexAtPosition=function(t){for(var e=0,o=this.content.children;e<o.length;e++){var n=o[e];if(this.getBoundingBoxToWorld(n).contains(t))return n._cellIndex}return-1},e.prototype.reloadData=function(t){void 0!==t&&(this.dataSource=t);for(var e=this.content.children.length-1;e>=0;e--)this.initCell(this.content.children[e],!0)},e.prototype.clear=function(){if(this.content&&this.cellPool){for(var t=this.content.children.length-1;t>=0;t--)this.cellPool.put(this.content.children[t]);this.visibleCellCount=0,this.showCellCount=0}},e.prototype.getData=function(){return this.dataSource},e.prototype.scrollToPage=function(t,e){if(void 0===e&&(e=.3),this.viewType===c.PAGE&&t!==this.currentPage&&!(t<1||t>this.totalPages)){var o=e*Math.abs(t-this.currentPage);if(this.changePageNumber(t-this.currentPage),this.layoutMode===s.HORIZONTAL||this.layoutMode===s.HORIZONTAL_GRID){var n=(this.currentPage-1)*this.tempView.width;this.scrollToOffset(new cc.Vec2(n,0),o)}else{var i=(this.currentPage-1)*this.tempView.height;this.scrollToOffset(new cc.Vec2(0,i),o)}}},e.prototype.scrollToNextPage=function(){this.scrollToPage(this.currentPage+1)},e.prototype.scrollToPreviousPage=function(){this.scrollToPage(this.currentPage-1)},e.prototype.changePageNumber=function(t){this.currentPage+=t,this.currentPage=Math.max(1,Math.min(this.currentPage,this.totalPages)),this.onPageChanged&&this.onPageChanged(this.currentPage,this.totalPages)},e.createTable=function(t,e){var n=new cc.Node("TableView");n.setContentSize(t.getContentSize());var i=new cc.Node("view");n.addChild(i);var r=e.viewSize||t?t.getContentSize():new cc.Size(750,1e3);i.setContentSize(r),i.addComponent(cc.Mask).type=cc.Mask.Type.RECT;var a=new cc.Node("content");i.addChild(a),a.setContentSize(r),a.setAnchorPoint(0,1),t.addChild(n);var l=n.addComponent(cc.Widget);l.isAlignTop=l.isAlignBottom=l.isAlignLeft=l.isAlignRight=!0,l.top=l.bottom=l.left=l.right=0;var h=n.addComponent(o);h.content=a,h.cellPrefab=e.cellPrefab;var u=e.cellPrefab.data.getContentSize();return(u.width<=0||u.height<=0)&&(console.error("Cell prefab has invalid size! Defaulting to 100x100"),u=new cc.Size(100,100)),h.layoutMode=e.layoutMode||s.VERTICAL,h.viewType=e.viewType||c.SCROLL,h.columnsCount=e.columnsCount||this.calculateColumnsCountForWidth(r.width,u.width,e.spacingX||0,e.padding?e.padding.left:0,e.padding?e.padding.right:0),h.rowsCount=e.rowsCount||this.calculateRowsCountForWidth(r.height,u.height,e.spacingY||0,e.padding?e.padding.top:0,e.padding?e.padding.bottom:0),h.spacingX=e.spacingX,h.spacingY=e.spacingY,h.enableCellDrag=e.enableCellDrag||!1,e.padding&&(h.paddingLeft=e.padding.left,h.paddingRight=e.padding.right,h.paddingTop=e.padding.top,h.paddingBottom=e.padding.bottom),h.layoutMode===s.VERTICAL||h.layoutMode===s.VERTICAL_GRID?(h.vertical=!0,h.horizontal=!1):(h.horizontal=!0,h.vertical=!1),h},e.calculateColumnsCountForWidth=function(t,e,o,n,i){if(void 0===t&&(t=1e3),void 0===e&&(e=1),void 0===o&&(o=0),void 0===n&&(n=0),void 0===i&&(i=0),e<=0)return console.error("Cell width is 0 or negative! Cannot calculate columns count"),1;var r=e+o,a=t-n-i;return Math.max(1,Math.floor(a/r))},e.calculateRowsCountForWidth=function(t,e,o,n,i){if(void 0===t&&(t=1e3),void 0===e&&(e=1),void 0===o&&(o=0),void 0===n&&(n=0),void 0===i&&(i=0),e<=0)return console.error("Cell width is 0 or negative! Cannot calculate columns count"),1;var r=e+o,a=t-n-i;return Math.max(1,Math.floor(a/r))},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.clear();var e=this.getCellPoolName();o.cellPoolCache[e]&&(o.cellPoolCache[e].clear(),delete o.cellPoolCache[e])},e.cellPoolCache={},r([d(cc.Prefab)],e.prototype,"cellPrefab",void 0),r([d({type:cc.Enum(s),tooltip:"Layout mode for table"})],e.prototype,"layoutMode",void 0),r([d({type:cc.Enum(c),tooltip:"Scroll or Page mode"})],e.prototype,"viewType",void 0),r([d({tooltip:"Fill empty space with cells"})],e.prototype,"isFill",void 0),r([d({tooltip:"Number of columns (for grid modes)"})],e.prototype,"columnsCount",void 0),r([d({tooltip:"Number of rows (for horizontal grid)"})],e.prototype,"rowsCount",void 0),r([d({tooltip:"Left padding"})],e.prototype,"paddingLeft",void 0),r([d({tooltip:"Right padding"})],e.prototype,"paddingRight",void 0),r([d({tooltip:"Top padding"})],e.prototype,"paddingTop",void 0),r([d({tooltip:"Bottom padding"})],e.prototype,"paddingBottom",void 0),r([d({tooltip:"Horizontal spacing between cells"})],e.prototype,"spacingX",void 0),r([d({tooltip:"Vertical spacing between cells"})],e.prototype,"spacingY",void 0),r([d({tooltip:"Enable cell dragging"})],e.prototype,"enableCellDrag",void 0),o=r([p()],e)}(cc.ScrollView);o.TableView=f,cc._RF.pop()},{"../manager/ObjectPool":"ObjectPool","./Cell":"Cell"}],Timer:[function(t,e,o){"use strict";cc._RF.push(e,"02adcwqUwZNNLUQ1jRmhx+B","Timer"),Object.defineProperty(o,"__esModule",{value:!0}),o.CountdownTimer=void 0;var n=function(){function t(t,e){if(void 0===t&&(t=60),void 0===e&&(e=0),this.isRunning=!1,this.intervalId=null,this.onTickCallback=null,this.onCompleteCallback=null,t<=e)throw new Error("Start time must be greater than end time");this.startTime=t,this.endTime=e,this.currentTime=t}return t.prototype.startTimer=function(){var t=this;this.isRunning||this.currentTime<=this.endTime||(this.isRunning=!0,this.intervalId=setInterval(function(){t.tick()},1e3))},t.prototype.pauseTimer=function(){this.isRunning&&(this.isRunning=!1,null!==this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null))},t.prototype.cancelTimer=function(){this.isRunning=!1,null!==this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},t.prototype.resetTimer=function(){this.cancelTimer(),this.currentTime=this.startTime},t.prototype.setTimes=function(t,e){if(t<=e)throw new Error("Start time must be greater than end time");this.cancelTimer(),this.startTime=t,this.endTime=e,this.currentTime=t},t.prototype.tick=function(){this.currentTime--,this.onTickCallback&&this.onTickCallback(this.currentTime),this.currentTime<=this.endTime&&(this.currentTime=this.endTime,this.cancelTimer(),this.onCompleteCallback&&this.onCompleteCallback())},t.prototype.setOnTick=function(t){this.onTickCallback=t},t.prototype.setOnComplete=function(t){this.onCompleteCallback=t},t.prototype.getCurrentTime=function(){return this.currentTime},t.prototype.getStartTime=function(){return this.startTime},t.prototype.getEndTime=function(){return this.endTime},t.prototype.getIsRunning=function(){return this.isRunning},t.prototype.destroy=function(){this.cancelTimer(),this.onTickCallback=null,this.onCompleteCallback=null},t}();o.CountdownTimer=n,cc._RF.pop()},{}],UICtrl:[function(t,e,o){"use strict";cc._RF.push(e,"3e78bErFDBOya9U2YO3iWVI","UICtrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lblSashimi=null,e.lblCoin=null,e.powerBar=null,e._sashimi=250,e._coin=500,e._bait=3,e}var o;return i(e,t),o=e,e.prototype.getSashimi=function(){return this._sashimi},e.prototype.updateSashimi=function(t){this._sashimi+=t,this.updateLabels()},e.prototype.getCoin=function(){return this._coin},e.prototype.updateCoin=function(t){this._coin+=t,this.updateLabels()},e.prototype.onLoad=function(){o.instance=this},e.prototype.updateLabels=function(){this.lblSashimi.string=this._sashimi.toString(),this.lblCoin.string=this._coin.toString()},e.prototype.activeatePowerBar=function(t){this.powerBar.active=t},e.prototype.updatePowerBarProgress=function(t){void 0===t&&(t=0),this.powerBar.getComponent(cc.ProgressBar).progress=t},e.instance=null,r([c(cc.Label)],e.prototype,"lblSashimi",void 0),r([c(cc.Label)],e.prototype,"lblCoin",void 0),r([c(cc.Node)],e.prototype,"powerBar",void 0),o=r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],UIMgr:[function(t,e,o){"use strict";cc._RF.push(e,"94c21hIUVRLv4UHH+bZK4PM","UIMgr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.UIPrefabType=o.UITransition=o.UILayer=void 0;var a,s,c,l=t("./DataMgr"),h=t("./ScreenMgr"),u=cc._decorator,p=u.ccclass,d=u.property;(function(t){t[t.BACKGROUND=0]="BACKGROUND",t[t.PAGE=1]="PAGE",t[t.POPUP=2]="POPUP",t[t.OVERLAY=3]="OVERLAY"})(a||(a={})),o.UILayer=a,function(t){t[t.NONE=0]="NONE",t[t.FADE=1]="FADE",t[t.POPUP_SCALE=2]="POPUP_SCALE"}(s||(s={})),o.UITransition=s,function(t){t[t.PAGE=0]="PAGE",t[t.POPUP=1]="POPUP"}(c||(c={})),o.UIPrefabType=c;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiRoot=null,e.FadedBgPrf=null,e._layers=new Map,e._uiMap=new Map,e._uiStack=[],e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){o._instance?this.destroy():(o._instance=this,cc.game.addPersistRootNode(this.node),this._initLayers())},e.prototype._initLayers=function(){var t=this;Object.values(a).filter(function(t){return"number"==typeof t}).forEach(function(e){var o=new cc.Node(a[e]);o.addComponent(cc.Widget);var n=o.getComponent(cc.Widget);n.alignMode=cc.Widget.AlignMode.ON_WINDOW_RESIZE,n.isAlignLeft=n.isAlignRight=n.isAlignTop=n.isAlignBottom=!0,n.left=n.right=n.top=n.bottom=0,t.uiRoot.addChild(o),n.updateAlignment(),t._layers.set(e,o)})},e.prototype.openUI=function(t,e,o,n){var i=this;void 0===e&&(e=c.PAGE),void 0===o&&(o=s.NONE);var r=e===c.PAGE,l=this._layers.get(r?a.PAGE:a.POPUP);cc.log(r&&this._uiMap.has(t)),r&&this._uiMap.has(t)?this._activateUI(t,o,n):cc.resources.load(t,cc.Prefab,function(e,a){if(e)return cc.error("[UIManager] Load prefab fail: "+t,e),void i._handlePageLoadError(t);var s=new cc.Node("UIWrapper");s.addComponent(cc.Widget);var c=s.getComponent(cc.Widget);c.alignMode=cc.Widget.AlignMode.ON_WINDOW_RESIZE,c.isAlignLeft=c.isAlignRight=c.isAlignTop=c.isAlignBottom=!0,c.left=c.right=c.top=c.bottom=0;var h=cc.instantiate(i.FadedBgPrf),u=cc.instantiate(a);s.addChild(h),s.addChild(u),l.addChild(s),i._uiMap.set(t,s),r?i._pushToStack(t):(h.on(cc.Node.EventType.TOUCH_END,function(){i.closeUI(t,o)}),cc.log("on click close popup",t)),i._playTransition(s,o),n&&n(u)})},e.prototype._activateUI=function(t,e,o){var n=this._uiMap.get(t);cc.log(n),n.active=!0,this._playTransition(n,e),o&&o(n)},e.prototype._pushToStack=function(t){this._uiStack.includes(t)||(this._uiStack.push(t),cc.log("Stack",this._uiStack))},e.prototype.closeUI=function(t,e){var o=this;if(void 0===e&&(e=s.NONE),cc.log("closeUI",this._uiMap.has(t)),this._uiMap.has(t)){var n=this._uiMap.get(t);this._playCloseTransition(n,e,function(){n.active=!1,t!==l.DataManager.instance.getPrefabPath(h.PAGE.HOME)&&o._popFromStack(t)})}},e.prototype.deactivateUI=function(t,e){var o=this;return void 0===e&&(e=s.NONE),new Promise(function(n){var i=o._uiMap.get(t);if(!i)return n();o._playCloseTransition(i,e,function(){i.active=!1,n()})})},e.prototype._popFromStack=function(t){var e=this._uiStack.indexOf(t);-1!==e&&this._uiStack.splice(e,1),cc.log("Stack",this._uiStack)},e.prototype.closeCurrent=function(t){if(void 0===t&&(t=s.NONE),0!==this._uiStack.length){var e=this._uiStack[this._uiStack.length-1];this.closeUI(e,t),cc.log("Stack",this._uiStack)}},e.prototype.back=function(t){if(void 0===t&&(t=s.NONE),!(this._uiStack.length<=1)){var e=this._uiStack.pop(),o=this._uiMap.get(e);this._playCloseTransition(o,t,function(){return o.active=!1});var n=this._uiStack[this._uiStack.length-1],i=this._uiMap.get(n);i.active=!0,this._playTransition(i,t),cc.log("Stack",this._uiStack)}},e.prototype._playTransition=function(t,e){switch(e){case s.FADE:t.opacity=0,cc.tween(t).to(.3,{opacity:255}).start();break;case s.POPUP_SCALE:t.scale=.5,t.opacity=0,cc.tween(t).to(.3,{scale:1,opacity:255},{easing:"backOut"}).start()}},e.prototype._playCloseTransition=function(t,e,o){switch(e){case s.FADE:cc.tween(t).to(.25,{opacity:0}).call(function(){o(),t.opacity=255}).start();break;case s.POPUP_SCALE:cc.tween(t).to(.25,{scale:.5,opacity:0},{easing:"backIn"}).call(function(){o(),t.scale=1,t.opacity=255}).start();break;default:o()}},e.prototype.getUI=function(t){return this._uiMap.get(t)||null},e.prototype.getUIStack=function(){return this._uiStack},e.prototype.getLayer=function(t){return this._layers.get(t)},e.prototype.isOpen=function(t){var e=this._uiMap.get(t);return!!e&&e.active},e.prototype._handlePageLoadError=function(){var t=this.getPreviousPage()||"pages/Home";cc.log("fallback",t,this._uiStack),this.openUI(t,c.PAGE)},e.prototype.getPreviousPage=function(){return this._uiStack.length<2?null:this._uiStack[this._uiStack.length-1]},e._instance=null,r([d(cc.Node)],e.prototype,"uiRoot",void 0),r([d(cc.Prefab)],e.prototype,"FadedBgPrf",void 0),o=r([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./DataMgr":"DataMgr","./ScreenMgr":"ScreenMgr"}],WebsocketCodec:[function(t,e,o){"use strict";cc._RF.push(e,"738c5qVgIxCH4hgc8tEjRjG","WebsocketCodec"),Object.defineProperty(o,"__esModule",{value:!0}),o.WsDecoder=o.WsEncoder=void 0;var n=t("./WsUtil"),i=function(){function t(){this._buffer=new Array}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.init=function(){return this._buffer=new Array,this},t.prototype.bytes=function(){return this._buffer},t.prototype.clear=function(){this._buffer.length=0},t.prototype.writeUnsignedVarint32=function(t){for(;t>127;)this._buffer.push(127&t|128),t>>>=7;this._buffer.push(t)},t.prototype.writeUnsignedVarint64=function(t){console.assert(t==Math.floor(t)),console.assert(t>=0&&t<n.jspb.BinaryConstants.TWO_TO_64),n.jspb.utils.splitInt64(t),this.writeSplitVarint64(n.jspb.utils.split64Low,n.jspb.utils.split64High)},t.prototype.writeSplitVarint64=function(t,e){for(;e>0||t>127;)this._buffer.push(127&t|128),t=(t>>>7|e<<25)>>>0,e>>>=7;this._buffer.push(t)},t.prototype.writeInt=function(t){this.writeSignedVarint32(t)},t.prototype.writeLong=function(t){this.writeUnsignedVarint64(t)},t.prototype.writeSignedVarint32=function(t){if(t>=0)this.writeUnsignedVarint32(t);else{for(var e=0;e<9;e++)this._buffer.push(127&t|128),t>>=7;this._buffer.push(1)}},t.prototype.writeSignedVarint64=function(t){console.assert(t==Math.floor(t)),console.assert(t>=-n.jspb.BinaryConstants.TWO_TO_63&&t<n.jspb.BinaryConstants.TWO_TO_63),n.jspb.utils.splitInt64(t),this.writeSplitVarint64(n.jspb.utils.split64Low,n.jspb.utils.split64High)},t.prototype.writeFloat=function(t){console.assert(t>=-n.jspb.BinaryConstants.FLOAT32_MAX&&t<=n.jspb.BinaryConstants.FLOAT32_MAX),n.jspb.utils.splitFloat32(t),this.writeUint32(n.jspb.utils.split64Low)},t.prototype.writeUint32=function(t){this._buffer.push(t>>>0&255),this._buffer.push(t>>>8&255),this._buffer.push(t>>>16&255),this._buffer.push(t>>>24&255)},t.prototype.writeBool=function(t){this._buffer.push(t?1:0)},t.prototype.writeString=function(t){for(var e=new Array,o=0;o<t.length;o++){var n=t.charCodeAt(o);if(n<128)e.push(n);else if(n<2048)e.push(n>>6|192),e.push(63&n|128);else if(n<65536)if(n>=55296&&n<=56319&&o+1<t.length){var i=t.charCodeAt(o+1);i>=56320&&i<=57343&&(n=1024*(n-55296)+i-56320+65536,e.push(n>>18|240),e.push(n>>12&63|128),e.push(n>>6&63|128),e.push(63&n|128),o++)}else e.push(n>>12|224),e.push(n>>6&63|128),e.push(63&n|128)}var r=e.length;this.writeSignedVarint32(r),this.writeBytes(e),e=null},t.prototype.writeBytes=function(t){this._buffer.push.apply(this._buffer,t)},t}();o.WsEncoder=i;var r=function(){function t(){this.bytes_=null,this.start_=0,this.end_=0,this.cursor_=0,this.tempLow_=0,this.tempHigh_=0,this.error_=!1}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.init=function(t,e,o){return void 0===e&&(e=null),void 0===o&&(o=null),this.bytes_=n.jspb.utils.byteSourceToUint8Array(t),this.start_=0|e,this.end_=o?this.start_+o:this.bytes_.length,this.cursor_=this.start_,this.error_=!1,this},t.prototype.free=function(){this.bytes_=null,this.start_=0,this.end_=0,this.cursor_=0,this.error_=!1},t.prototype.readInt=function(){return this.readUnsignedVarint32()},t.prototype.readString=function(){return this.readStringWithLength()},t.prototype.readLong=function(){return this.readUnsignedVarint64()},t.prototype.readUnsignedVarint32=function(){var t,e=this.bytes_,o=127&(t=e[this.cursor_+0]);return t<128?(this.cursor_+=1,o):(o|=(127&(t=e[this.cursor_+1]))<<7,t<128?(this.cursor_+=2,o):(o|=(127&(t=e[this.cursor_+2]))<<14,t<128?(this.cursor_+=3,o):(o|=(127&(t=e[this.cursor_+3]))<<21,t<128?(this.cursor_+=4,o):(o|=(15&(t=e[this.cursor_+4]))<<28,t<128?(console.assert(0==(240&t),"readUnsignedVarint32 error!"),this.cursor_+=5,o>>>0):(this.cursor_+=10,o)))))},t.prototype.readUint32=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1],o=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,(t<<0|e<<8|o<<16|n<<24)>>>0},t.prototype.readFloat=function(){var t=this.readUint32();return n.jspb.utils.joinFloat32(t,0)},t.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},t.prototype.readStringPure=function(t){for(var e=this.bytes_,o=this.cursor_,n=o+t,i=[];o<n;){var r=e[o++];if(r<128)i.push(r);else{if(r<192)continue;if(r<224){var a=e[o++];i.push((31&r)<<6|63&a)}else if(r<240){a=e[o++];var s=e[o++];i.push((15&r)<<12|(63&a)<<6|63&s)}else if(r<248){var c=(7&r)<<18|(63&(a=e[o++]))<<12|(63&(s=e[o++]))<<6|63&e[o++],l=56320+(1023&(c-=65536)),h=55296+(c>>10&1023);i.push(h,l)}}}var u=String.fromCharCode.apply(null,i);return this.cursor_=o,u},t.prototype.readStringWithLength=function(){var t=this.readUnsignedVarint32();return this.readStringPure(t)},t.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64_(),n.jspb.utils.joinUint64(this.tempLow_,this.tempHigh_)},t.prototype.readSplitVarint64_=function(){for(var t,e=0,o=0,n=0;n<4;n++)if(e|=(127&(t=this.bytes_[this.cursor_++]))<<7*n,t<128)return this.tempLow_=e>>>0,void(this.tempHigh_=0);if(e|=(127&(t=this.bytes_[this.cursor_++]))<<28,o|=(127&t)>>4,t<128)return this.tempLow_=e>>>0,void(this.tempHigh_=o>>>0);for(n=0;n<5;n++)if(o|=(127&(t=this.bytes_[this.cursor_++]))<<7*n+3,t<128)return this.tempLow_=e>>>0,void(this.tempHigh_=o>>>0);cc.error("Failed to read varint, encoding is invalid."),this.error_=!0},t}();o.WsDecoder=r,cc._RF.pop()},{"./WsUtil":"WsUtil"}],WsUtil:[function(t,e,o){"use strict";cc._RF.push(e,"ce606sHJ6VEMKMzXxVMnemP","WsUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.jspb=void 0,function(t){var e=function(){function e(){}return e.FieldTypeToWireType=function(e){var o=t.BinaryConstants.FieldType,n=t.BinaryConstants.WireType;switch(e){case o.INT32:case o.INT64:case o.UINT32:case o.UINT64:case o.SINT32:case o.SINT64:case o.BOOL:case o.ENUM:case o.VHASH64:return n.VARINT;case o.DOUBLE:case o.FIXED64:case o.SFIXED64:case o.FHASH64:return n.FIXED64;case o.STRING:case o.MESSAGE:case o.BYTES:return n.DELIMITED;case o.FLOAT:case o.FIXED32:case o.SFIXED32:return n.FIXED32;case o.INVALID:case o.GROUP:default:return n.INVALID}},e.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},e.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},e.INVALID_FIELD_NUMBER=-1,e.FLOAT32_EPS=1401298464324817e-60,e.FLOAT32_MIN=11754943508222875e-54,e.FLOAT32_MAX=34028234663852886e22,e.FLOAT64_EPS=5e-324,e.FLOAT64_MIN=22250738585072014e-324,e.FLOAT64_MAX=17976931348623157e292,e.TWO_TO_20=1048576,e.TWO_TO_23=8388608,e.TWO_TO_31=2147483648,e.TWO_TO_32=4294967296,e.TWO_TO_52=4503599627370496,e.TWO_TO_63=0x8000000000000000,e.TWO_TO_64=0x10000000000000000,e.ZERO_HASH="\0\0\0\0\0\0\0\0",e}();t.BinaryConstants=e;var o=function(){function e(){}return e.splitUint64=function(e){var o=e>>>0,n=Math.floor((e-o)/t.BinaryConstants.TWO_TO_32)>>>0;t.utils.split64Low=o,t.utils.split64High=n},e.splitInt64=function(e){var o=e<0,n=(e=Math.abs(e))>>>0,i=Math.floor((e-n)/t.BinaryConstants.TWO_TO_32);i>>>=0,o&&(i=~i>>>0,n=~n>>>0,(n+=1)>4294967295&&(n=0,++i>4294967295&&(i=0))),t.utils.split64Low=n,t.utils.split64High=i},e.splitZigzag64=function(e){var o=e<0;e=2*Math.abs(e),t.utils.splitUint64(e);var n=t.utils.split64Low,i=t.utils.split64High;o&&(0==n?0==i?(n=4294967295,i=4294967295):(i--,n=4294967295):n--),t.utils.split64Low=n,t.utils.split64High=i},e.splitFloat32=function(e){var o,n,i=e<0?1:0;if(0!==(e=i?-e:e)){if(isNaN(e))return t.utils.split64High=0,void(t.utils.split64Low=2147483647);if(e>t.BinaryConstants.FLOAT32_MAX)return t.utils.split64High=0,void(t.utils.split64Low=(i<<31|2139095040)>>>0);if(e<t.BinaryConstants.FLOAT32_MIN)return n=Math.round(e/Math.pow(2,-149)),t.utils.split64High=0,void(t.utils.split64Low=(i<<31|n)>>>0);o=Math.floor(Math.log(e)/Math.LN2),n=e*Math.pow(2,-o),n=8388607&Math.round(n*t.BinaryConstants.TWO_TO_23),t.utils.split64High=0,t.utils.split64Low=(i<<31|o+127<<23|n)>>>0}else 1/e>0?(t.utils.split64High=0,t.utils.split64Low=0):(t.utils.split64High=0,t.utils.split64Low=2147483648)},e.splitFloat64=function(e){var o=e<0?1:0;if(0!==(e=o?-e:e)){if(isNaN(e))return t.utils.split64High=2147483647,void(t.utils.split64Low=4294967295);if(e>t.BinaryConstants.FLOAT64_MAX)return t.utils.split64High=(o<<31|2146435072)>>>0,void(t.utils.split64Low=0);if(e<t.BinaryConstants.FLOAT64_MIN){var n=(r=e/Math.pow(2,-1074))/t.BinaryConstants.TWO_TO_32;return t.utils.split64High=(o<<31|n)>>>0,void(t.utils.split64Low=r>>>0)}var i=Math.floor(Math.log(e)/Math.LN2);1024==i&&(i=1023),n=(r=e*Math.pow(2,-i))*t.BinaryConstants.TWO_TO_20&1048575;var r,a=r*t.BinaryConstants.TWO_TO_52>>>0;t.utils.split64High=(o<<31|i+1023<<20|n)>>>0,t.utils.split64Low=a}else 1/e>0?(t.utils.split64High=0,t.utils.split64Low=0):(t.utils.split64High=2147483648,t.utils.split64Low=0)},e.splitHash64=function(e){var o=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),a=e.charCodeAt(4),s=e.charCodeAt(5),c=e.charCodeAt(6),l=e.charCodeAt(7);t.utils.split64Low=o+(n<<8)+(i<<16)+(r<<24)>>>0,t.utils.split64High=a+(s<<8)+(c<<16)+(l<<24)>>>0},e.joinUint64=function(e,o){return o*t.BinaryConstants.TWO_TO_32+e},e.joinInt64=function(e,o){var n=2147483648&o;n&&(o=~o>>>0,0==(e=1+~e>>>0)&&(o=o+1>>>0));var i=t.utils.joinUint64(e,o);return n?-i:i},e.joinZigzag64=function(e,o){var n=1&e;e=(e>>>1|o<<31)>>>0,o>>>=1,n&&0==(e=e+1>>>0)&&(o=o+1>>>0);var i=t.utils.joinUint64(e,o);return n?-i:i},e.joinFloat32=function(t){var e=2*(t>>31)+1,o=t>>>23&255,n=8388607&t;return 255==o?n?NaN:e*(1/0):0==o?e*Math.pow(2,-149)*n:e*Math.pow(2,o-150)*(n+Math.pow(2,23))},e.joinFloat64=function(e,o){var n=2*(o>>31)+1,i=o>>>20&2047,r=t.BinaryConstants.TWO_TO_32*(1048575&o)+e;return 2047==i?r?NaN:n*(1/0):0==i?n*Math.pow(2,-1074)*r:n*Math.pow(2,i-1075)*(r+t.BinaryConstants.TWO_TO_52)},e.joinHash64=function(t,e){var o=t>>>0&255,n=t>>>8&255,i=t>>>16&255,r=t>>>24&255,a=e>>>0&255,s=e>>>8&255,c=e>>>16&255,l=e>>>24&255;return String.fromCharCode(o,n,i,r,a,s,c,l)},e.joinUnsignedDecimalString=function(e,o){if(o<=2097151)return""+(t.BinaryConstants.TWO_TO_32*o+e);var n=(e>>>24|o<<8)>>>0&16777215,i=o>>16&65535,r=(16777215&e)+6777216*n+6710656*i,a=n+8147497*i,s=2*i,c=1e7;r>=c&&(a+=Math.floor(r/c),r%=c),a>=c&&(s+=Math.floor(a/c),a%=c);var l=t.utils.DIGITS,h=!1,u="";function p(t){for(var e=c,o=0;o<7;o++){var n=t/(e/=10)%10>>>0;(0!=n||h)&&(h=!0,u+=l[n])}}return(s||h)&&p(s),(a||h)&&p(a),(r||h)&&p(r),u},e.joinSignedDecimalString=function(e,o){var n=2147483648&o;n&&(o=~o+(0==(e=1+~e>>>0)?1:0)>>>0);var i=t.utils.joinUnsignedDecimalString(e,o);return n?"-"+i:i},e.hash64ToDecimalString=function(e,o){t.utils.splitHash64(e);var n=t.utils.split64Low,i=t.utils.split64High;return o?t.utils.joinSignedDecimalString(n,i):t.utils.joinUnsignedDecimalString(n,i)},e.hash64ArrayToDecimalStrings=function(e,o){for(var n=new Array(e.length),i=0;i<e.length;i++)n[i]=t.utils.hash64ToDecimalString(e[i],o);return n},e.decimalStringToHash64=function(e){console.assert(e.length>0);var o=!1;"-"===e[0]&&(o=!0,e=e.slice(1));var n=[0,0,0,0,0,0,0,0];function i(t,e){for(var o=0;o<8&&(1!==t||e>0);o++){var i=t*n[o]+e;n[o]=255&i,e=i>>>8}}for(var r=0;r<e.length;r++)i(10,t.utils.DIGITS.indexOf(e[r]));return o&&(function(){for(var t=0;t<8;t++)n[t]=255&~n[t]}(),i(1,1)),String.fromCharCode.apply(null,n)},e.splitDecimalString=function(e){t.utils.splitHash64(t.utils.decimalStringToHash64(e))},e.hash64ToHexString=function(e){var o=new Array(18);o[0]="0",o[1]="x";for(var n=0;n<8;n++){var i=e.charCodeAt(7-n);o[2*n+2]=t.utils.DIGITS[i>>4],o[2*n+3]=t.utils.DIGITS[15&i]}return o.join("")},e.hexStringToHash64=function(e){e=e.toLowerCase(),console.assert(18==e.length),console.assert("0"==e[0]),console.assert("x"==e[1]);for(var o="",n=0;n<8;n++){var i=t.utils.DIGITS.indexOf(e[2*n+2]),r=t.utils.DIGITS.indexOf(e[2*n+3]);o=String.fromCharCode(16*i+r)+o}return o},e.hash64ToNumber=function(e,o){t.utils.splitHash64(e);var n=t.utils.split64Low,i=t.utils.split64High;return o?t.utils.joinInt64(n,i):t.utils.joinUint64(n,i)},e.numberToHash64=function(e){return t.utils.splitInt64(e),t.utils.joinHash64(t.utils.split64Low,t.utils.split64High)},e.countVarints=function(t,e,o){for(var n=0,i=e;i<o;i++)n+=t[i]>>7;return o-e-n},e.countVarintFields=function(e,o,n,i){var r=0,a=o,s=8*i+t.BinaryConstants.WireType.VARINT;if(s<128)for(;a<n;){if(e[a++]!=s)return r;for(r++;0!=(128&e[a++]););}else for(;a<n;){for(var c=s;c>128;){if(e[a]!=(127&c|128))return r;a++,c>>=7}if(e[a++]!=c)return r;for(r++;0!=(128&e[a++]););}return r},e.countFixedFields_=function(t,e,o,n,i){var r=0,a=e;if(n<128)for(;a<o;){if(t[a++]!=n)return r;r++,a+=i}else for(;a<o;){for(var s=n;s>128;){if(t[a++]!=(127&s|128))return r;s>>=7}if(t[a++]!=s)return r;r++,a+=i}return r},e.countFixed32Fields=function(e,o,n,i){var r=8*i+t.BinaryConstants.WireType.FIXED32;return t.utils.countFixedFields_(e,o,n,r,4)},e.countFixed64Fields=function(e,o,n,i){var r=8*i+t.BinaryConstants.WireType.FIXED64;return t.utils.countFixedFields_(e,o,n,r,8)},e.countDelimitedFields=function(e,o,n,i){for(var r=0,a=o,s=8*i+t.BinaryConstants.WireType.DELIMITED;a<n;){for(var c=s;c>128;){if(e[a++]!=(127&c|128))return r;c>>=7}if(e[a++]!=c)return r;r++;for(var l=0,h=1;l+=(127&(c=e[a++]))*h,h*=128,0!=(128&c););a+=l}return r},e.stringToByteArray=function(t){for(var e=new Uint8Array(t.length),o=0;o<t.length;o++){var n=t.charCodeAt(o);if(n>255)throw new Error("Conversion error: string contains codepoint outside of byte range");e[o]=n}return e},e.byteSourceToUint8Array=function(t){return t.constructor===Uint8Array?t:t.constructor===ArrayBuffer?(t=t,new Uint8Array(t)):t.constructor===Array?(t=t,new Uint8Array(t)):(console.assert(!1,"Type not convertible to Uint8Array."),new Uint8Array(0))},e.split64Low=0,e.split64High=0,e.DIGITS=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e}();t.utils=o}(o.jspb||(o.jspb={})),cc._RF.pop()},{}],cam:[function(t,e){"use strict";cc._RF.push(e,"56f46Y2P3xGcr8524KB0y9d","cam"),e.exports={"":"",add_seconds:"Add 15 seconds to keep playing!",arena:"Arena",arena_ranking:"Arena Ranking",back:"Back",btn_equip:"Equip",btn_equiped:"Equiped",btn_unlock:"Unlock",buy:"Buy",character:"Character",character_desc_00:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_01:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_02:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_03:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_04:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_05:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_06:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_07:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_08:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_09:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_name_00:"Frank The Gold Miner",character_name_01:"King Rat",character_name_02:"Midas The Golden King",character_name_03:"The Big Boy",character_name_04:"The Thunder God",character_name_05:"The Monkey King",character_name_06:"The Mad Scientist",character_name_07:"The Pirate",character_name_08:"The Cow Boy",character_name_09:"The Clown",choose_boost:"Choose Your Boost",confirm_error:"Unsuccessful start game.\nPlease try again",comming_soon:"Comming Soon",connection_end:"You have been disconnected.\nPlease try again",connection_error:"Connection is unstable!\nPlease check your wifi/sim connection again.",connection_error_1:"Game connection failed.\nPlease try again",continue:"Continue",defeat:"Defeated!",event:"Event",free:"Free",friend_comparison:"Friend Comparison",goal:"Goal",home:"Home",hook:"Hook",language:"Language",level:"Level",level_failed:"Level Failed!",match_start:"MATCH IS STARTING!",mine_area:"Mine Area",mine_area_lvl_ranking:"Mine Area Level Ranking",mine_area_score_ranking:"Mine Area Score Ranking",music:"Music",nextlvl:"Next Level",next_match:"Next Match",not_enough_money:"You don't have enough money.\nPlease add more",opponent_found:"Opponent Found",play:"Play",rank:"Rank",ranking:"Ranking",ranking_point:"Ranking Point",ranking_tier:"Ranking Tier",rewards:"Rewards",score:"Score",searching:"Searching",search_player:"Search Player",season_pass:"Season Pass",select_booster:"Select Booster:",shop:"Shop",shop_0:"Extra Strength: The Miner reels up objects 2x faster for the 10 first seconds in the next level. Effect lasts for one level only.",shop_1:"Extra Diamond: Adds one more diamond in the next level. Effect lasts for one level only.",shop_2:"Extra Gold: Adds three more small gold nuggets in the next level. Effect lasts for one level only.",shop_3:"TNT: After grabbing onto something with your claw, tap the screen to throw a tnt and blow it up.",shop_4:"Rock Collector: Rock are worth three times as much money in the next level. Effect lasts for one level only.",shop_5:"Lucky Clover: Bag value will increase in the next level. Effect lasts for one level only.",shop_6:"Diamond Polish: Diamond are worth double time as much money in the next level. Effect lasts for one level only.",shop_7:'Click on the item you want to buy to choose. Click on the "Buy" button.',skip_error2:"Out of skip turn!",skill_name_00:"Power Reel",skill_name_01:"King's Call",skill_name_02:"Stone to Gold",skill_name_03:"Mighty Grip",skill_name_04:"Thunder Strike",skill_name_05:"Ruyi Smash",skill_name_06:"Chemical Chaos",skill_name_07:"Hook of Fortune",skill_name_08:"Lasso Pull",skill_name_09:"Mystery Carnival",skill_desc_00:"Increases the speed of your reel the next throw, allowing you to catch objects more quickly.",skill_desc_01:"Randomly summon 3 rat on the map including rat, rat with small diamond, rat with medium diamond.",skill_desc_02:"When activated all the gold on the screen become gold.",skill_desc_03:"After successfully obtain 2 objects, the next reel will get double the power.",skill_desc_04:"The next reel will destroy the object that the hook touch and all the objects next to it.",skill_desc_05:"When activated, Monkey King use his staff to smash the ground making all objects move to a random position.",skill_desc_06:"Throw a chemical bottle to the object you are pulling. Randomly active one of these effects:\n- Turn the object into a medium gold.\n- Turn the object into a medium rock.\n- Turn the object into a rat.",skill_desc_07:"Throw your hook to grab a treasure chest. Open it to get random rewards.",skill_desc_08:"Throw your lasso to grab a random object on the map.",skill_desc_09:"Throw a pie to a random object on the map. Randomly get one of these effects:\n- Turn the object into a small diamond.\n- Turn the object into a medium diamond.\n- Turn the object into a large diamond.\n- Turn the object into a rat.",sound:"Sound",target_score:"Target Score:",time:"Time",time_out:"Time Out!",try_again:"Try Again",user_name:"User Name",victory:"Victory!",you_will_lose:"You will lose all your reward"},cc._RF.pop()},{}],en:[function(t,e){"use strict";cc._RF.push(e,"f5810uH+rpFoKmwuMENExH7","en"),e.exports={"":"",add_seconds:"Add 15 seconds to keep playing!",arena:"Arena",arena_ranking:"Arena Ranking",back:"Back",btn_equip:"Equip",btn_equiped:"Equiped",btn_unlock:"Unlock",buy:"Buy",character:"Character",character_desc_00:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_01:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_02:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_03:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_04:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_05:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_06:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_07:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_08:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_09:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_name_00:"Frank The Gold Miner",character_name_01:"King Rat",character_name_02:"Midas The Golden King",character_name_03:"The Big Boy",character_name_04:"The Thunder God",character_name_05:"The Monkey King",character_name_06:"The Mad Scientist",character_name_07:"The Pirate",character_name_08:"The Cow Boy",character_name_09:"The Clown",choose_boost:"Choose Your Boost",confirm_error:"Unsuccessful start game.\nPlease try again",comming_soon:"Comming Soon",connection_end:"You have been disconnected.\nPlease try again",connection_error:"Connection is unstable!\nPlease check your wifi/sim connection again.",connection_error_1:"Game connection failed.\nPlease try again",continue:"Continue",defeat:"Defeated!",event:"Event",free:"Free",friend_comparison:"Friend Comparison",goal:"Goal",home:"Home",hook:"Hook",language:"Language",level:"Level",level_failed:"Level Failed!",match_start:"MATCH IS STARTING!",mine_area:"Mine Area",mine_area_lvl_ranking:"Mine Area Level Ranking",mine_area_score_ranking:"Mine Area Score Ranking",music:"Music",nextlvl:"Next Level",next_match:"Next Match",not_enough_money:"You don't have enough money.\nPlease add more",opponent_found:"Opponent Found",play:"Play",rank:"Rank",ranking:"Ranking",ranking_point:"Ranking Point",ranking_tier:"Ranking Tier",rewards:"Rewards",score:"Score",searching:"Searching",search_player:"Search Player",season_pass:"Season Pass",select_booster:"Select Booster:",shop:"Shop",shop_0:"Extra Strength: The Miner reels up objects 2x faster for the 10 first seconds in the next level. Effect lasts for one level only.",shop_1:"Extra Diamond: Adds one more diamond in the next level. Effect lasts for one level only.",shop_2:"Extra Gold: Adds three more small gold nuggets in the next level. Effect lasts for one level only.",shop_3:"TNT: After grabbing onto something with your claw, tap the screen to throw a tnt and blow it up.",shop_4:"Rock Collector: Rock are worth three times as much money in the next level. Effect lasts for one level only.",shop_5:"Lucky Clover: Bag value will increase in the next level. Effect lasts for one level only.",shop_6:"Diamond Polish: Diamond are worth double time as much money in the next level. Effect lasts for one level only.",shop_7:'Click on the item you want to buy to choose. Click on the "Buy" button.',skip_error2:"Out of skip turn!",skill_name_00:"Power Reel",skill_name_01:"King's Call",skill_name_02:"Stone to Gold",skill_name_03:"Mighty Grip",skill_name_04:"Thunder Strike",skill_name_05:"Ruyi Smash",skill_name_06:"Chemical Chaos",skill_name_07:"Hook of Fortune",skill_name_08:"Lasso Pull",skill_name_09:"Mystery Carnival",skill_desc_00:"Increases the speed of your reel the next throw, allowing you to catch objects more quickly.",skill_desc_01:"Randomly summon 3 rat on the map including rat, rat with small diamond, rat with medium diamond.",skill_desc_02:"When activated all the gold on the screen become gold.",skill_desc_03:"After successfully obtain 2 objects, the next reel will get double the power.",skill_desc_04:"The next reel will destroy the object that the hook touch and all the objects next to it.",skill_desc_05:"When activated, Monkey King use his staff to smash the ground making all objects move to a random position.",skill_desc_06:"Throw a chemical bottle to the object you are pulling. Randomly active one of these effects:\n- Turn the object into a medium gold.\n- Turn the object into a medium rock.\n- Turn the object into a rat.",skill_desc_07:"Throw your hook to grab a treasure chest. Open it to get random rewards.",skill_desc_08:"Throw your lasso to grab a random object on the map.",skill_desc_09:"Throw a pie to a random object on the map. Randomly get one of these effects:\n- Turn the object into a small diamond.\n- Turn the object into a medium diamond.\n- Turn the object into a large diamond.\n- Turn the object into a rat.",sound:"Sound",target_score:"Target Score:",time:"Time",time_out:"Time Out!",try_again:"Try Again",user_name:"User Name",victory:"Victory!",you_will_lose:"You will lose all your reward"},cc._RF.pop()},{}],loadingLayer:[function(t,e,o){"use strict";cc._RF.push(e,"cdd4eFg5hND16SUicDr+NY5","loadingLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lab_tips=null,e.lab_percent=null,e.loading_progress=null,e._oldProgress=0,e}return i(e,t),e.prototype.changeProgress=function(t){t<=this._oldProgress||(this.loading_progress.progress=t,this.lab_percent.string=Math.floor(100*t)+"%",this._oldProgress=t)},r([c(cc.Label)],e.prototype,"lab_tips",void 0),r([c(cc.Label)],e.prototype,"lab_percent",void 0),r([c(cc.ProgressBar)],e.prototype,"loading_progress",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],mm:[function(t,e){"use strict";cc._RF.push(e,"2d3b6Srw0hF4JkZD8oWdhD/","mm"),e.exports={"":"",add_seconds:"Add 15 seconds to keep playing!",arena:"Arena",arena_ranking:"Arena Ranking",back:"Back",btn_equip:"Equip",btn_equiped:"Equiped",btn_unlock:"Unlock",buy:"Buy",character:"Character",character_desc_00:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_01:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_02:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_03:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_04:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_05:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_06:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_07:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_08:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_09:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_name_00:"Frank The Gold Miner",character_name_01:"King Rat",character_name_02:"Midas The Golden King",character_name_03:"The Big Boy",character_name_04:"The Thunder God",character_name_05:"The Monkey King",character_name_06:"The Mad Scientist",character_name_07:"The Pirate",character_name_08:"The Cow Boy",character_name_09:"The Clown",choose_boost:"Choose Your Boost",confirm_error:"Unsuccessful start game.\nPlease try again",comming_soon:"Comming Soon",connection_end:"You have been disconnected.\nPlease try again",connection_error:"Connection is unstable!\nPlease check your wifi/sim connection again.",connection_error_1:"Game connection failed.\nPlease try again",continue:"Continue",defeat:"Defeated!",event:"Event",free:"Free",friend_comparison:"Friend Comparison",goal:"Goal",home:"Home",hook:"Hook",language:"Language",level:"Level",level_failed:"Level Failed!",match_start:"MATCH IS STARTING!",mine_area:"Mine Area",mine_area_lvl_ranking:"Mine Area Level Ranking",mine_area_score_ranking:"Mine Area Score Ranking",music:"Music",nextlvl:"Next Level",next_match:"Next Match",not_enough_money:"You don't have enough money.\nPlease add more",opponent_found:"Opponent Found",play:"Play",rank:"Rank",ranking:"Ranking",ranking_point:"Ranking Point",ranking_tier:"Ranking Tier",rewards:"Rewards",score:"Score",searching:"Searching",search_player:"Search Player",season_pass:"Season Pass",select_booster:"Select Booster:",shop:"Shop",shop_0:"Extra Strength: The Miner reels up objects 2x faster for the 10 first seconds in the next level. Effect lasts for one level only.",shop_1:"Extra Diamond: Adds one more diamond in the next level. Effect lasts for one level only.",shop_2:"Extra Gold: Adds three more small gold nuggets in the next level. Effect lasts for one level only.",shop_3:"TNT: After grabbing onto something with your claw, tap the screen to throw a tnt and blow it up.",shop_4:"Rock Collector: Rock are worth three times as much money in the next level. Effect lasts for one level only.",shop_5:"Lucky Clover: Bag value will increase in the next level. Effect lasts for one level only.",shop_6:"Diamond Polish: Diamond are worth double time as much money in the next level. Effect lasts for one level only.",shop_7:'Click on the item you want to buy to choose. Click on the "Buy" button.',skip_error2:"Out of skip turn!",skill_name_00:"Power Reel",skill_name_01:"King's Call",skill_name_02:"Stone to Gold",skill_name_03:"Mighty Grip",skill_name_04:"Thunder Strike",skill_name_05:"Ruyi Smash",skill_name_06:"Chemical Chaos",skill_name_07:"Hook of Fortune",skill_name_08:"Lasso Pull",skill_name_09:"Mystery Carnival",skill_desc_00:"Increases the speed of your reel the next throw, allowing you to catch objects more quickly.",skill_desc_01:"Randomly summon 3 rat on the map including rat, rat with small diamond, rat with medium diamond.",skill_desc_02:"When activated all the gold on the screen become gold.",skill_desc_03:"After successfully obtain 2 objects, the next reel will get double the power.",skill_desc_04:"The next reel will destroy the object that the hook touch and all the objects next to it.",skill_desc_05:"When activated, Monkey King use his staff to smash the ground making all objects move to a random position.",skill_desc_06:"Throw a chemical bottle to the object you are pulling. Randomly active one of these effects:\n- Turn the object into a medium gold.\n- Turn the object into a medium rock.\n- Turn the object into a rat.",skill_desc_07:"Throw your hook to grab a treasure chest. Open it to get random rewards.",skill_desc_08:"Throw your lasso to grab a random object on the map.",skill_desc_09:"Throw a pie to a random object on the map. Randomly get one of these effects:\n- Turn the object into a small diamond.\n- Turn the object into a medium diamond.\n- Turn the object into a large diamond.\n- Turn the object into a rat.",sound:"Sound",target_score:"Target Score:",time:"Time",time_out:"Time Out!",try_again:"Try Again",user_name:"User Name",victory:"Victory!",you_will_lose:"You will lose all your reward"},cc._RF.pop()},{}],polyglot:[function(t,e,o){(function(t){"use strict";cc._RF.push(e,"7ae8fgp2ZROFqI2ZcqYAXkY","polyglot"),function(t,n){"function"==typeof define&&define.amd?define([],function(){return n(t)}):"object"==typeof o?e.exports=n(t):t.Polyglot=n(t)}(void 0!==t?t:void 0,function(t){var e=String.prototype.replace;function o(t){t=t||{},this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en",this.allowMissing=!!t.allowMissing,this.warn=t.warn||d}o.VERSION="1.0.0",o.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},o.prototype.extend=function(t,e){var o;for(var n in t)t.hasOwnProperty(n)&&(o=t[n],e&&(n=e+"."+n),"object"==typeof o?this.extend(o,n):this.phrases[n]=o)},o.prototype.unset=function(t,e){var o;if("string"==typeof t)delete this.phrases[t];else for(var n in t)t.hasOwnProperty(n)&&(o=t[n],e&&(n=e+"."+n),"object"==typeof o?this.unset(o,n):delete this.phrases[n])},o.prototype.clear=function(){this.phrases={}},o.prototype.replace=function(t){this.clear(),this.extend(t)},o.prototype.t=function(t,o){var i,r,a,c,h,u,d,g,y;return"number"==typeof(o=null==o?{}:o)&&(o={smart_count:o}),"string"==typeof this.phrases[t]?i=this.phrases[t]:"string"==typeof o._?i=o._:this.allowMissing?i=t:(this.warn('Missing translation for key: "'+t+'"'),r=t),"string"==typeof i&&(o=f(o),r=p((a=i,c=this.currentLocale,null!=(h=o.smart_count)&&a?(g=(d=a.split(n))[l(c,h)]||d[0],y=g,u=e.call(y,s,"")):u=a,r=u),o)),r},o.prototype.has=function(t){return t in this.phrases};var n="||||",i={chinese:function(){return 0},german:function(t){return 1!==t?1:0},french:function(t){return t>1?1:0},russian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0}},r={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs","sk"],polish:["pl"],icelandic:["is"]};function a(t){var e,o,n,i={};for(e in t)if(t.hasOwnProperty(e))for(n in o=t[e])i[o[n]]=e;return i}var s=/^\s+|\s+$/g;function c(t){var e=a(r);return e[t]||e.en}function l(t,e){return i[c(t)](e)}var h=/\$/g,u="$$$$";function p(t,o){for(var n in o)if("_"!==n&&o.hasOwnProperty(n)){var i=o[n];"string"==typeof i&&(i=e.call(o[n],h,u)),t=e.call(t,new RegExp("%\\{"+n+"\\}","g"),i)}return t}function d(e){t.console&&t.console.warn&&t.console.warn("WARNING: "+e)}function f(t){var e={};for(var o in t)e[o]=t[o];return e}return o}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],tl:[function(t,e){"use strict";cc._RF.push(e,"6a468GgaKdJq4uSTGRmnxDV","tl"),e.exports={"":"",add_seconds:"Add 15 seconds to keep playing!",arena:"Arena",arena_ranking:"Arena Ranking",back:"Back",btn_equip:"Equip",btn_equiped:"Equiped",btn_unlock:"Unlock",buy:"Buy",character:"Character",character_desc_00:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_01:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_02:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_03:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_04:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_05:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_06:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_07:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_08:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_09:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_name_00:"Frank The Gold Miner",character_name_01:"King Rat",character_name_02:"Midas The Golden King",character_name_03:"The Big Boy",character_name_04:"The Thunder God",character_name_05:"The Monkey King",character_name_06:"The Mad Scientist",character_name_07:"The Pirate",character_name_08:"The Cow Boy",character_name_09:"The Clown",choose_boost:"Choose Your Boost",confirm_error:"Unsuccessful start game.\nPlease try again",comming_soon:"Comming Soon",connection_end:"You have been disconnected.\nPlease try again",connection_error:"Connection is unstable!\nPlease check your wifi/sim connection again.",connection_error_1:"Game connection failed.\nPlease try again",continue:"Continue",defeat:"Defeated!",event:"Event",free:"Free",friend_comparison:"Friend Comparison",goal:"Goal",home:"Home",hook:"Hook",language:"Language",level:"Level",level_failed:"Level Failed!",match_start:"MATCH IS STARTING!",mine_area:"Mine Area",mine_area_lvl_ranking:"Mine Area Level Ranking",mine_area_score_ranking:"Mine Area Score Ranking",music:"Music",nextlvl:"Next Level",next_match:"Next Match",not_enough_money:"You don't have enough money.\nPlease add more",opponent_found:"Opponent Found",play:"Play",rank:"Rank",ranking:"Ranking",ranking_point:"Ranking Point",ranking_tier:"Ranking Tier",rewards:"Rewards",score:"Score",searching:"Searching",search_player:"Search Player",season_pass:"Season Pass",select_booster:"Select Booster:",shop:"Shop",shop_0:"Extra Strength: The Miner reels up objects 2x faster for the 10 first seconds in the next level. Effect lasts for one level only.",shop_1:"Extra Diamond: Adds one more diamond in the next level. Effect lasts for one level only.",shop_2:"Extra Gold: Adds three more small gold nuggets in the next level. Effect lasts for one level only.",shop_3:"TNT: After grabbing onto something with your claw, tap the screen to throw a tnt and blow it up.",shop_4:"Rock Collector: Rock are worth three times as much money in the next level. Effect lasts for one level only.",shop_5:"Lucky Clover: Bag value will increase in the next level. Effect lasts for one level only.",shop_6:"Diamond Polish: Diamond are worth double time as much money in the next level. Effect lasts for one level only.",shop_7:'Click on the item you want to buy to choose. Click on the "Buy" button.',skip_error2:"Out of skip turn!",skill_name_00:"Power Reel",skill_name_01:"King's Call",skill_name_02:"Stone to Gold",skill_name_03:"Mighty Grip",skill_name_04:"Thunder Strike",skill_name_05:"Ruyi Smash",skill_name_06:"Chemical Chaos",skill_name_07:"Hook of Fortune",skill_name_08:"Lasso Pull",skill_name_09:"Mystery Carnival",skill_desc_00:"Increases the speed of your reel the next throw, allowing you to catch objects more quickly.",skill_desc_01:"Randomly summon 3 rat on the map including rat, rat with small diamond, rat with medium diamond.",skill_desc_02:"When activated all the gold on the screen become gold.",skill_desc_03:"After successfully obtain 2 objects, the next reel will get double the power.",skill_desc_04:"The next reel will destroy the object that the hook touch and all the objects next to it.",skill_desc_05:"When activated, Monkey King use his staff to smash the ground making all objects move to a random position.",skill_desc_06:"Throw a chemical bottle to the object you are pulling. Randomly active one of these effects:\n- Turn the object into a medium gold.\n- Turn the object into a medium rock.\n- Turn the object into a rat.",skill_desc_07:"Throw your hook to grab a treasure chest. Open it to get random rewards.",skill_desc_08:"Throw your lasso to grab a random object on the map.",skill_desc_09:"Throw a pie to a random object on the map. Randomly get one of these effects:\n- Turn the object into a small diamond.\n- Turn the object into a medium diamond.\n- Turn the object into a large diamond.\n- Turn the object into a rat.",sound:"Sound",target_score:"Target Score:",time:"Time",time_out:"Time Out!",try_again:"Try Again",user_name:"User Name",victory:"Victory!",you_will_lose:"You will lose all your reward"},cc._RF.pop()},{}],vn:[function(t,e){"use strict";cc._RF.push(e,"7dfffRjtXBHlbf42oe4MzcZ","vn"),e.exports={"":"",add_seconds:"Add 15 seconds to keep playing!",arena:"Arena",arena_ranking:"Arena Ranking",back:"Back",btn_equip:"Equip",btn_equiped:"Equiped",btn_unlock:"Unlock",buy:"Buy",character:"Character",character_desc_00:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_01:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_02:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_03:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_04:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_05:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_06:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_07:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_08:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_desc_09:"A legendary gold miner known for his exceptional skills and adventurous spirit.",character_name_00:"Frank The Gold Miner",character_name_01:"King Rat",character_name_02:"Midas The Golden King",character_name_03:"The Big Boy",character_name_04:"The Thunder God",character_name_05:"The Monkey King",character_name_06:"The Mad Scientist",character_name_07:"The Pirate",character_name_08:"The Cow Boy",character_name_09:"The Clown",choose_boost:"Choose Your Boost",confirm_error:"Unsuccessful start game.\nPlease try again",comming_soon:"Comming Soon",connection_end:"You have been disconnected.\nPlease try again",connection_error:"Connection is unstable!\nPlease check your wifi/sim connection again.",connection_error_1:"Game connection failed.\nPlease try again",continue:"Continue",defeat:"Defeated!",event:"Event",free:"Free",friend_comparison:"Friend Comparison",goal:"Goal",home:"Home",hook:"Hook",language:"Language",level:"Level",level_failed:"Level Failed!",match_start:"MATCH IS STARTING!",mine_area:"Mine Area",mine_area_lvl_ranking:"Mine Area Level Ranking",mine_area_score_ranking:"Mine Area Score Ranking",music:"Music",nextlvl:"Next Level",next_match:"Next Match",not_enough_money:"You don't have enough money.\nPlease add more",opponent_found:"Opponent Found",play:"Play",rank:"Rank",ranking:"Ranking",ranking_point:"Ranking Point",ranking_tier:"Ranking Tier",rewards:"Rewards",score:"Score",searching:"Searching",search_player:"Search Player",season_pass:"Season Pass",select_booster:"Select Booster:",shop:"Shop",shop_0:"Extra Strength: The Miner reels up objects 2x faster for the 10 first seconds in the next level. Effect lasts for one level only.",shop_1:"Extra Diamond: Adds one more diamond in the next level. Effect lasts for one level only.",shop_2:"Extra Gold: Adds three more small gold nuggets in the next level. Effect lasts for one level only.",shop_3:"TNT: After grabbing onto something with your claw, tap the screen to throw a tnt and blow it up.",shop_4:"Rock Collector: Rock are worth three times as much money in the next level. Effect lasts for one level only.",shop_5:"Lucky Clover: Bag value will increase in the next level. Effect lasts for one level only.",shop_6:"Diamond Polish: Diamond are worth double time as much money in the next level. Effect lasts for one level only.",shop_7:'Click on the item you want to buy to choose. Click on the "Buy" button.',skip_error2:"Out of skip turn!",skill_name_00:"Power Reel",skill_name_01:"King's Call",skill_name_02:"Stone to Gold",skill_name_03:"Mighty Grip",skill_name_04:"Thunder Strike",skill_name_05:"Ruyi Smash",skill_name_06:"Chemical Chaos",skill_name_07:"Hook of Fortune",skill_name_08:"Lasso Pull",skill_name_09:"Mystery Carnival",skill_desc_00:"Increases the speed of your reel the next throw, allowing you to catch objects more quickly.",skill_desc_01:"Randomly summon 3 rat on the map including rat, rat with small diamond, rat with medium diamond.",skill_desc_02:"When activated all the gold on the screen become gold.",skill_desc_03:"After successfully obtain 2 objects, the next reel will get double the power.",skill_desc_04:"The next reel will destroy the object that the hook touch and all the objects next to it.",skill_desc_05:"When activated, Monkey King use his staff to smash the ground making all objects move to a random position.",skill_desc_06:"Throw a chemical bottle to the object you are pulling. Randomly active one of these effects:\n- Turn the object into a medium gold.\n- Turn the object into a medium rock.\n- Turn the object into a rat.",skill_desc_07:"Throw your hook to grab a treasure chest. Open it to get random rewards.",skill_desc_08:"Throw your lasso to grab a random object on the map.",skill_desc_09:"Throw a pie to a random object on the map. Randomly get one of these effects:\n- Turn the object into a small diamond.\n- Turn the object into a medium diamond.\n- Turn the object into a large diamond.\n- Turn the object into a rat.",sound:"Sound",target_score:"Target Score:",time:"Time",time_out:"Time Out!",try_again:"Try Again",user_name:"User Name",victory:"Victory!",you_will_lose:"You will lose all your reward"},cc._RF.pop()},{}],xxtea:[function(t,e){"use strict";cc._RF.push(e,"b0145eIv9BBipZvlGfuAR2T","xxtea"),function(){function t(){this.delta=2654435769}t.getInstance=function(){return t.instance||(t.instance=new t,t.instance.initInstance()),this.instance},t.prototype.initInstance=function(){},t.prototype.toUint8Array=function(t,e){var o=t.length,n=o<<2;if(e){var i=t[o-1];if(i<(n-=4)-3||i>n)return null;n=i}for(var r=new Uint8Array(n),a=0;a<n;++a)r[a]=t[a>>2]>>((3&a)<<3);return r},t.prototype.toUint32Array=function(t,e){var o,n=t.length,i=n>>2;0!=(3&n)&&++i,e?(o=new Uint32Array(i+1))[i]=n:o=new Uint32Array(i);for(var r=0;r<n;++r)o[r>>2]|=t[r]<<((3&r)<<3);return o},t.prototype.mx=function(t,e,o,n,i,r){return(o>>>5^e<<2)+(e>>>3^o<<4)^(t^e)+(r[3&n^i]^o)},t.prototype.fixk=function(t){if(t.length<16){var e=new Uint8Array(16);e.set(t),t=e}return t},t.prototype.encryptUint32Array=function(t,e){var o,n,i,r,a,s,c=t.length,l=c-1;for(n=t[l],i=0,s=0|Math.floor(6+52/c);s>0;--s){for(r=(i+=this.delta)>>>2&3,a=0;a<l;++a)o=t[a+1],n=t[a]+=this.mx(i,o,n,a,r,e);o=t[0],n=t[l]+=this.mx(i,o,n,a,r,e)}return t},t.prototype.decryptUint32Array=function(t,e){var o,n,i,r,a,s=t.length,c=s-1;for(o=t[0],i=Math.floor(6+52/s)*this.delta;0!==i;i-=this.delta){for(r=i>>>2&3,a=c;a>0;--a)n=t[a-1],o=t[a]-=this.mx(i,o,n,a,r,e);n=t[c],o=t[0]-=this.mx(i,o,n,a,r,e)}return t},t.prototype.toBytes=function(t){for(var e=t.length,o=new Uint8Array(3*e),n=0,i=0;i<e;i++){var r=t.charCodeAt(i);if(r<128)o[n++]=r;else if(r<2048)o[n++]=192|r>>6,o[n++]=128|63&r;else{if(!(r<55296||r>57343)){if(i+1<e){var a=t.charCodeAt(i+1);if(r<56320&&56320<=a&&a<=57343){var s=65536+((1023&r)<<10|1023&a);o[n++]=240|s>>18,o[n++]=128|s>>12&63,o[n++]=128|s>>6&63,o[n++]=128|63&s,i++;continue}}throw new Error("Malformed string")}o[n++]=224|r>>12,o[n++]=128|r>>6&63,o[n++]=128|63&r}}return o.subarray(0,n)},t.prototype.toShortString=function(t,e){for(var o=new Uint16Array(e),n=0,i=0,r=t.length;n<e&&i<r;n++){var a=t[i++];switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o[n]=a;break;case 12:case 13:if(!(i<r))throw new Error("Unfinished UTF-8 octet sequence");o[n]=(31&a)<<6|63&t[i++];break;case 14:if(!(i+1<r))throw new Error("Unfinished UTF-8 octet sequence");o[n]=(15&a)<<12|(63&t[i++])<<6|63&t[i++];break;case 15:if(!(i+2<r))throw new Error("Unfinished UTF-8 octet sequence");var s=((7&a)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536;if(!(0<=s&&s<=1048575))throw new Error("Character outside valid Unicode range: 0x"+s.toString(16));o[n++]=s>>10&1023|55296,o[n]=1023&s|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+a.toString(16))}}return n<e&&(o=o.subarray(0,n)),String.fromCharCode.apply(String,o)},t.prototype.toLongString=function(t,e){for(var o=[],n=new Uint16Array(65535),i=0,r=0,a=t.length;i<e&&r<a;i++){var s=t[r++];switch(s>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:n[i]=s;break;case 12:case 13:if(!(r<a))throw new Error("Unfinished UTF-8 octet sequence");n[i]=(31&s)<<6|63&t[r++];break;case 14:if(!(r+1<a))throw new Error("Unfinished UTF-8 octet sequence");n[i]=(15&s)<<12|(63&t[r++])<<6|63&t[r++];break;case 15:if(!(r+2<a))throw new Error("Unfinished UTF-8 octet sequence");var c=((7&s)<<18|(63&t[r++])<<12|(63&t[r++])<<6|63&t[r++])-65536;if(!(0<=c&&c<=1048575))throw new Error("Character outside valid Unicode range: 0x"+c.toString(16));n[i++]=c>>10&1023|55296,n[i]=1023&c|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+s.toString(16))}if(i>=65534){var l=i+1;o.push(String.fromCharCode.apply(String,n.subarray(0,l))),e-=l,i=-1}}return i>0&&o.push(String.fromCharCode.apply(String,n.subarray(0,i))),o.join("")},t.prototype.toString=function(t){var e=t.length;return 0===e?"":e<1e5?this.toShortString(t,e):this.toLongString(t,e)},t.prototype.encrypt=function(t,e){return"string"==typeof t&&(t=this.toBytes(t)),"string"==typeof e&&(e=this.toBytes(e)),null==t||0===t.length?t:this.toUint8Array(this.encryptUint32Array(this.toUint32Array(t,!0),this.toUint32Array(this.fixk(e),!1)),!1)},t.prototype.encryptToString=function(t,e){return this.encrypt(t,e).toString("base64")},t.prototype.decrypt=function(t,e){return"string"==typeof t&&(t=t.toString()),"string"==typeof e&&(e=this.toBytes(e)),null==t||0===t.length?t:this.toUint8Array(this.decryptUint32Array(this.toUint32Array(t,!1),this.toUint32Array(this.fixk(e),!1)),!0)},t.prototype.decryptToString=function(t,e){return this.toString(this.decrypt(t,e))}}(),cc._RF.pop()},{}]},{},["LabelFontSet","LabelLocalized","PrefabLocalized","PrefabSet","SpineAnimationSet","SpineLocalized","SpriteFrameSet","SpriteLocalized","cam","en","mm","tl","vn","polyglot","DataMgr","EventMgr","GameCoreMgr","InputMgr","LanguageMgr","ObjectPool","PoolMgr","ScreenMgr","UIMgr","Lobby","UICtrl","Fish","FishCtrl","GamePlayMgr","HookCtrl","MinigameController","PopUp","RopeRenderer","loadingLayer","Cmd","Connector","Receive","Send","WebsocketCodec","WsUtil","BoatFloat","Cell","Constants","CustomFontLabel","NodeShake","NodeZoom","SoundUtil","Table","Timer","xxtea"]);